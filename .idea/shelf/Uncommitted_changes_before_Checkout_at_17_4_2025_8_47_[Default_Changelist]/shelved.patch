Index: app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rocnarf.rocnarf;\r\n\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport com.rocnarf.rocnarf.Utils.Common;\r\nimport com.rocnarf.rocnarf.adapters.PedidosRecyclerViewAdapter;\r\nimport com.rocnarf.rocnarf.models.Pedido;\r\nimport com.rocnarf.rocnarf.viewmodel.PedidoListaViewModel;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class PedidoListaActivity extends AppCompatActivity {\r\n    private String idUsuario, sector, idAsesor, rolUsuario;\r\n    private RecyclerView recyclerView;\r\n    private TextView mensajeVacio;\r\n    private PedidosRecyclerViewAdapter adapter;\r\n    private Context context;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_pedido_lista);\r\n        //getActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        context = this;\r\n        Intent intent = getIntent();\r\n        idUsuario= intent.getStringExtra(Common.ARG_IDUSUARIO);\r\n        sector = intent.getStringExtra(Common.ARG_SECCIOM);\r\n        idAsesor = intent.getStringExtra(Common.ARG_IDUSUARIO);\r\n        rolUsuario = intent.getStringExtra(Common.ARG_ROL);\r\n        mensajeVacio = (TextView)findViewById(R.id.tv_vacio_activity_pedido_lista);\r\n        recyclerView = (RecyclerView) findViewById(R.id.rv_lista_activity_pedido_lista);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n        final PedidosRecyclerViewAdapter.PedidoListaListener listener\r\n                = new PedidosRecyclerViewAdapter.PedidoListaListener() {\r\n            @Override\r\n            public void PedidoListaListener(Pedido pedido) {\r\n                if (pedido.getTipoPedido().equals(Common.TIPO_PEDIDO_PEDIDO)) {\r\n                    //Se realiza un pequeño cambio se llama a un activity con 2 framelayouts\r\n                    //Intent i = new Intent(context, PedidoActivity.class);\r\n                    //Pequeño cambio de la forma de pantalla por solicitud del cliente\r\n                    Intent i = new Intent(context, PedidoSimpleActivity.class);\r\n                    i.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                    i.putExtra(Common.ARG_SECCIOM, sector);\r\n                    i.putExtra(Common.ARG_IDCLIENTE, pedido.getIdCliente());\r\n                    i.putExtra(Common.ARG_IDPEDIDO, pedido.getIdLocalPedido());\r\n                    if (Objects.equals(pedido.getTipoPrecio(), \"ESP\")){\r\n                        i.putExtra(Common.ARG_USAR_PRECIO_ESPECIAL, true);\r\n                    }\r\n                    startActivity(i);\r\n                }\r\n                else {\r\n                    Intent i = new Intent(context, CobroActivity.class);\r\n                    i.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                    i.putExtra(Common.ARG_SECCIOM, sector);\r\n                    i.putExtra(Common.ARG_IDCLIENTE, pedido.getIdCliente());\r\n                    i.putExtra(Common.ARG_IDPEDIDO, pedido.getIdLocalPedido());\r\n                    i.putExtra(Common.ARG_NOMBRE_CLIENTE, pedido.getNombreCliente());\r\n                    i.putExtra(Common.ARG_TIPO_PEDIDO, pedido.getTipoPedido());\r\n                    startActivity(i);\r\n                }\r\n\r\n            }\r\n        };\r\n\r\n\r\n        PedidoListaViewModel model = ViewModelProviders.of( this ).get(PedidoListaViewModel.class);\r\n        //model.setQueryFilter(idUsuario, codigoCliente,nombre, tipo, sector, representante, ciudad);\r\n        model.getPedidos(idUsuario).observe(this, new Observer<List<Pedido>>() {\r\n                    @Override\r\n                    public void onChanged(@Nullable List<Pedido> pedidos) {\r\n                        if (pedidos != null) {\r\n                            if (pedidos.size() > 0) mensajeVacio.setVisibility(View.GONE);\r\n                            adapter = new PedidosRecyclerViewAdapter(pedidos, listener);\r\n                            recyclerView.setAdapter(adapter);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n\r\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                LlamarClientes(3); //Pedidos\r\n            }\r\n        });\r\n\r\n        FloatingActionButton fabCobro = (FloatingActionButton) findViewById(R.id.fab_cobro);\r\n        fabCobro.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                LlamarClientes(5); // cobros\r\n            }\r\n        });\r\n\r\n//        FloatingActionButton fabProforma = (FloatingActionButton) findViewById(R.id.fab_proforma);\r\n//        fabProforma.setOnClickListener(new View.OnClickListener() {\r\n//            @Override\r\n//            public void onClick(View view) {\r\n//                Intent i = new Intent(getApplicationContext(), ProductosActivity.class);\r\n//                i.putExtra(Common.ARG_IDUSUARIO, idAsesor);\r\n//                i.putExtra(Common.ARG_SECCIOM, sector);\r\n//                i.putExtra(Common.ARG_ROL, rolUsuario);\r\n//                startActivity(i);\r\n//            }\r\n//        });\r\n\r\n    }\r\n\r\n   public void LlamarClientes (int destino){\r\n        //Intent i  = new Intent( getApplicationContext(), PedidoClienteActivity.class );\r\n       Log.d(\"pedido\",\"pedido --->\"+ destino);\r\n       Intent i  = new Intent( getApplicationContext(), PedidoCobroClienteActivity.class );\r\n        i.putExtra(Common.ARG_DESTINO_PEDIDO, destino);\r\n        i.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n        i.putExtra(Common.ARG_SECCIOM, sector);\r\n       i.putExtra(Common.ARG_ROL, rolUsuario);\r\n\r\n       startActivity(i);\r\n\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java b/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java
--- a/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java	(date 1744308275990)
@@ -13,6 +13,7 @@
 import androidx.recyclerview.widget.RecyclerView;
 import android.util.Log;
 import android.view.View;
+import android.widget.LinearLayout;
 import android.widget.TextView;
 
 import com.rocnarf.rocnarf.Utils.Common;
@@ -95,21 +96,22 @@
 
 
 
-        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
-        fab.setOnClickListener(new View.OnClickListener() {
+        LinearLayout btnPedido = findViewById(R.id.btn_pedido);
+        btnPedido.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                LlamarClientes(3); //Pedidos
+                LlamarClientes(3); // Pedidos
             }
         });
 
-        FloatingActionButton fabCobro = (FloatingActionButton) findViewById(R.id.fab_cobro);
-        fabCobro.setOnClickListener(new View.OnClickListener() {
+        LinearLayout btnCobro = findViewById(R.id.btn_cobro);
+        btnCobro.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                LlamarClientes(5); // cobros
+                LlamarClientes(5); // Cobros
             }
         });
+
 
 //        FloatingActionButton fabProforma = (FloatingActionButton) findViewById(R.id.fab_proforma);
 //        fabProforma.setOnClickListener(new View.OnClickListener() {
Index: app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rocnarf.rocnarf;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.provider.MediaStore;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.DatePicker;\r\nimport android.widget.ImageView;\r\nimport android.widget.Spinner;\r\nimport android.widget.SpinnerAdapter;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.content.FileProvider;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport com.rocnarf.rocnarf.Utils.Common;\r\nimport com.rocnarf.rocnarf.helpers.DateHelper;\r\nimport com.rocnarf.rocnarf.helpers.ImageDownloader;\r\nimport com.rocnarf.rocnarf.models.Vehiculo;\r\nimport com.rocnarf.rocnarf.models.Viatico;\r\nimport com.rocnarf.rocnarf.validators.RucValidator;\r\nimport com.rocnarf.rocnarf.viewmodel.VehiculoViewModel;\r\nimport com.rocnarf.rocnarf.viewmodel.ViaticoViewModel;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\n\r\npublic class RegistroViaticoActivity extends AppCompatActivity {\r\n    private String idUsuario;\r\n    private Context context;\r\n    private View viewVehiculo;\r\n    private String ciclo, concepto;\r\n    private TextView mCiclo,mConcepto, tvVehiculo, tvPlaca;\r\n    private Spinner spPlacaViatico;\r\n    private String placaSeleccionada;\r\n    private List<String> listPlacas;\r\n    private Bitmap imageBitmap;\r\n    private static final int REQUEST_SELECT_IMAGE = 2;\r\n    private ImageView ivSubeImagen;\r\n    private ImageView ivTomaFoto, FotoSeleccionda;\r\n    private Button btnGuardarVia;\r\n    int idciclo,idconcepto,idViatico;\r\n    boolean primera = true;\r\n    private Calendar mCalendar;\r\n\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private int anioCalendar, mesCalendar, diaCalendar, horaTimePicker, minutosTimePicker;\r\n    private DatePickerDialog mDatePickerDialog;\r\n\r\n    File photoFile;\r\n    String currentPhotoPath;\r\n    File photoReciboFile ;\r\n    private ALodingDialog aLodingDialog;\r\n    private TextInputEditText etRucViatico,etRazonSocialViatico,etFacturaViatico,etSubtotalViatico,etSubtotalIvaViatico,etTotalViatico,mFechaFactura;\r\n    private ViaticoViewModel viaticoViewModel;\r\n    private VehiculoViewModel vehiculoViewModel;\r\n\r\n    private String esHistorial = \"N\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_registro_viatico);\r\n\r\n        Intent i = getIntent();\r\n\r\n        idUsuario = i.getStringExtra(Common.ARG_IDUSUARIO);\r\n\r\n        //Inicializar View Models\r\n        viaticoViewModel = new ViewModelProvider(this).get(ViaticoViewModel.class);\r\n        vehiculoViewModel = new ViewModelProvider(this).get(VehiculoViewModel.class);\r\n\r\n        observeViaticoViewModel();\r\n        observeVehiculoViewModel();\r\n\r\n        // Cargar las placas al iniciar la actividad\r\n        vehiculoViewModel.cargarVehiculos(idUsuario);\r\n\r\n        int estadoCiclo = i.getIntExtra(Common.ARG_ESTADO_CICLO, 0);\r\n        int estadoViatico = i.getIntExtra(Common.ARG_ESTADO_VIATICO, 0);\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null) {\r\n            for (String key : extras.keySet()) {\r\n                Object value = extras.get(key);\r\n                Log.d(\"RegistroViaticoActivity\", String.format(\"Key: %s, Value: %s\", key, value));\r\n            }\r\n        } else {\r\n            Log.d(\"RegistroViaticoActivity\", \"No extras received in the intent\");\r\n        }\r\n\r\n        Viatico viaticoEdit = (Viatico)i.getSerializableExtra(\"Viatico\");\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        ciclo = i.getStringExtra(Common.ARG_NOMBRE_CICLO);\r\n        concepto = i.getStringExtra(Common.ARG_NOMBRE_CONCEPTO);\r\n        idciclo =  Integer.parseInt(i.getStringExtra(Common.ARG_ID_CICLO));\r\n        idconcepto = Integer.parseInt(i.getStringExtra(Common.ARG_ID_CONCEPTO));\r\n        esHistorial =  i.getStringExtra(Common.ARG_HISTORIAL);\r\n\r\n        context = this;\r\n\r\n        mCiclo = (TextView) findViewById(R.id.ciclo_show);\r\n        mConcepto = (TextView) findViewById(R.id.concepto_show);\r\n\r\n        mCiclo.setText(ciclo);\r\n        mConcepto.setText(concepto);\r\n        ivSubeImagen = findViewById(R.id.iv_sube_imagen);\r\n        ivTomaFoto = findViewById(R.id.iv_toma_foto);\r\n        btnGuardarVia = (Button) findViewById(R.id.bt_guardar_viatico);\r\n\r\n\r\n        if (esHistorial != null) {\r\n            if (esHistorial.equals(\"S\")) {\r\n                btnGuardarVia.setVisibility(View.GONE);\r\n                ivTomaFoto.setVisibility(View.GONE);\r\n                ivSubeImagen.setVisibility(View.GONE);\r\n            }\r\n        }\r\n\r\n        etRucViatico = findViewById(R.id.et_ruc_viatico);\r\n        TextInputLayout tilRucViatico = findViewById(R.id.til_ruc_viatico);\r\n\r\n        tilRucViatico.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n\r\n        etRucViatico.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                validarYMostrarIcono(tilRucViatico);\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n\r\n        //CAMPO FECHA\r\n        mFechaFactura = findViewById(R.id.et_fecha_factura_viatico);\r\n        TextInputLayout tilFechaViatico = findViewById(R.id.til_fecha_viatico);\r\n        tilFechaViatico.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n        setDateField(tilFechaViatico);\r\n\r\n        etRazonSocialViatico = findViewById(R.id.et_razonsocial_viatico);\r\n        etFacturaViatico = findViewById(R.id.et_factura_viatico);\r\n        etSubtotalViatico = findViewById(R.id.et_subtotal_viatico);\r\n        etSubtotalIvaViatico = findViewById(R.id.et_subtotal_iva_viatico);\r\n        etTotalViatico = findViewById(R.id.et_total_viatico);\r\n        etTotalViatico.setEnabled(false);\r\n\r\n        spPlacaViatico = findViewById(R.id.spPlacaViatico);\r\n\r\n        listPlacas = new ArrayList<>();\r\n\r\n        spPlacaViatico.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                placaSeleccionada = listPlacas.get(position);\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView<?> parent) {\r\n                placaSeleccionada = null;\r\n            }\r\n        });\r\n\r\n\r\n        FotoSeleccionda = findViewById(R.id.imageV_foto_viatico);\r\n        viewVehiculo = findViewById(R.id.view_vehiculo);\r\n        tvVehiculo = findViewById(R.id.tv_vehiculo);\r\n        tvPlaca = findViewById(R.id.tv_placa);\r\n        etSubtotalViatico.addTextChangedListener(textWatcher);\r\n        etSubtotalIvaViatico.addTextChangedListener(textWatcher);\r\n\r\n        if(idconcepto == 128){\r\n            spPlacaViatico.setVisibility(View.VISIBLE);\r\n            viewVehiculo.setVisibility(View.VISIBLE);\r\n            tvVehiculo.setVisibility(View.VISIBLE);\r\n            tvPlaca.setVisibility(View.VISIBLE);\r\n        }else{\r\n            spPlacaViatico.setVisibility(View.GONE);\r\n            viewVehiculo.setVisibility(View.GONE);\r\n            tvVehiculo.setVisibility(View.GONE);\r\n            tvPlaca.setVisibility(View.GONE);\r\n        }\r\n\r\n        if(viaticoEdit != null){\r\n            llenarDatos(viaticoEdit);\r\n            primera= false;\r\n        }\r\n\r\n        if (estadoCiclo == 1) { // Si el ciclo ha sido enviado\r\n            if (estadoViatico == 1 || estadoViatico == 2) { // En revisión o aprobado\r\n                disableFields(etRucViatico, etRazonSocialViatico, etFacturaViatico,\r\n                        etSubtotalViatico, etSubtotalIvaViatico, spPlacaViatico, mFechaFactura, btnGuardarVia);\r\n            }\r\n            // Rechazado: Los campos permanecen habilitados\r\n        } else if (estadoCiclo == 0) { // Si el ciclo no ha sido enviado\r\n            // Permitir edición\r\n            enableFields(etRucViatico, etRazonSocialViatico, etFacturaViatico,\r\n                    etSubtotalViatico, etSubtotalIvaViatico, spPlacaViatico, mFechaFactura, btnGuardarVia);\r\n        }\r\n\r\n        btnGuardarVia.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String ruc = etRucViatico.getText().toString().trim();\r\n\r\n                if (ruc.isEmpty()) {\r\n                    etRucViatico.setError(\"Por favor ingrese el RUC\");\r\n                    return;\r\n                }\r\n\r\n                if (!RucValidator.validarRUC(ruc)) {\r\n                    etRucViatico.setError(\"RUC inválido. Verifique los datos.\");\r\n                    return;\r\n                }\r\n\r\n                String fechaFactura = mFechaFactura.getText().toString();\r\n                if (fechaFactura.isEmpty()) {\r\n                    mFechaFactura.setError(\"Falta ingresar la fecha\");\r\n                    return;\r\n                }\r\n\r\n                // Validar la fecha antes de guardar\r\n                if (!esFechaValida(fechaFactura)) {\r\n                    mFechaFactura.setText(\"\"); // Borrar la fecha inválida\r\n                    mFechaFactura.setError(\"Fecha inválida. No puede ser en fin de semana.\");\r\n                    Toast.makeText(getApplicationContext(), \"La fecha ingresada NO puede ser en fin de semana.\", Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n\r\n                if (imageBitmap == null) {\r\n                    FotoSeleccionda.setDrawingCacheEnabled(true);\r\n                    imageBitmap = Bitmap.createBitmap(FotoSeleccionda.getDrawingCache());\r\n                    FotoSeleccionda.setDrawingCacheEnabled(false);\r\n                }\r\n\r\n                if (imageBitmap == null) {\r\n                    Toast.makeText(getApplicationContext(), \"Por favor ingrese imagen de la factura\", Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n\r\n                if(idconcepto == 128){\r\n                    if (placaSeleccionada == null || placaSeleccionada.isEmpty()) {\r\n                        Toast.makeText(RegistroViaticoActivity.this, \"Por favor, seleccione una placa\", Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                Viatico viatico = construirViatico();\r\n\r\n                if (primera) {\r\n                    viaticoViewModel.guardarViatico(viatico);\r\n                } else {\r\n                    viaticoViewModel.actualizarViatico(idViatico, viatico);\r\n                }\r\n            }\r\n        });\r\n\r\n        ivSubeImagen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                seleccionarImagen();\r\n            }\r\n        });\r\n\r\n        ivTomaFoto.setOnClickListener(v -> solicitarPermisoCamara());\r\n\r\n    }\r\n\r\n    private void validarYMostrarIcono(TextInputLayout tilRucViatico) {\r\n        String ruc = etRucViatico.getText().toString().trim();\r\n\r\n        if (ruc.length() == 13 && RucValidator.validarRUC(ruc)) {\r\n            tilRucViatico.setEndIconMode(TextInputLayout.END_ICON_CUSTOM);\r\n            tilRucViatico.setEndIconDrawable(ContextCompat.getDrawable(this, R.drawable.ic_check_circle_green_24dp));\r\n        } else {\r\n            etRucViatico.setError(\"RUC inválido. Verifique los datos.\");\r\n            tilRucViatico.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n        }\r\n    }\r\n\r\n    private Viatico construirViatico() {\r\n        Viatico viatico = new Viatico();\r\n        viatico.setRuc(etRucViatico.getText().toString());\r\n        viatico.setIdCatalogo(idconcepto);\r\n        viatico.setEstadoViatico(1);\r\n        viatico.setEstatus(1);\r\n        viatico.setIdUsuario(idUsuario);\r\n        viatico.setFecha(new Date());\r\n        mCalendar.set(anioCalendar, mesCalendar, diaCalendar, horaTimePicker, minutosTimePicker);\r\n        viatico.setFechaFactura(mCalendar.getTime());\r\n        Log.d(\"Fecha hp:\", mCalendar.getTime().toString());\r\n        viatico.setIdCiclo(idciclo);\r\n        viatico.setComentario(\"Registro en revisión\");\r\n        viatico.setRazonSocial(etRazonSocialViatico.getText().toString());\r\n        viatico.setNumeroFactura(etFacturaViatico.getText().toString());\r\n        viatico.setSubTotal(Double.parseDouble(etSubtotalViatico.getText().toString()));\r\n        viatico.setSubTotalIva(etSubtotalIvaViatico.getText().toString().isEmpty() ? 0.0 : Double.parseDouble(etSubtotalIvaViatico.getText().toString()));\r\n        viatico.setTotal(Double.parseDouble(etTotalViatico.getText().toString()));\r\n        viatico.setPlaca(spPlacaViatico.getSelectedItem().toString());\r\n\r\n        if (imageBitmap != null) {\r\n            viatico.setImagen(profileImage(imageBitmap));\r\n        }\r\n\r\n        return viatico;\r\n    }\r\n\r\n    private void observeViaticoViewModel() {\r\n        viaticoViewModel.getViaticoGuardado().observe(this, new Observer<Boolean>() {\r\n            @Override\r\n            public void onChanged(Boolean guardado) {\r\n                if (guardado != null && guardado) {\r\n                    Toast.makeText(RegistroViaticoActivity.this, \"Viático guardado con éxito\", Toast.LENGTH_SHORT).show();\r\n                    finish();  // Cerrar la actividad\r\n                }\r\n            }\r\n        });\r\n\r\n        viaticoViewModel.getErrorMensaje().observe(this, new Observer<String>() {\r\n            @Override\r\n            public void onChanged(String mensaje) {\r\n                if (mensaje != null) {\r\n                    Toast.makeText(RegistroViaticoActivity.this, mensaje, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void observeVehiculoViewModel() {\r\n        vehiculoViewModel.getVehiculos().observe(this, new Observer<List<Vehiculo>>() {\r\n            @Override\r\n            public void onChanged(List<Vehiculo> vehiculos) {\r\n                if (vehiculos != null) {\r\n                    listPlacas.clear();\r\n                    for (Vehiculo vehiculo : vehiculos) {\r\n                        listPlacas.add(vehiculo.getPlaca());\r\n                    }\r\n                    configurarSpinner();\r\n                }\r\n            }\r\n        });\r\n\r\n        vehiculoViewModel.getErrorMessage().observe(this, new Observer<String>() {\r\n            @Override\r\n            public void onChanged(String mensaje) {\r\n                if (mensaje != null) {\r\n                    Log.d(\"VehiculoViewModel\", \"El usuario no tiene placas registradas: \" + mensaje);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n    private void configurarSpinner() {\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(this, android.R.layout.simple_spinner_item, listPlacas);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spPlacaViatico.setAdapter(adapter);\r\n\r\n        // Si solo hay \"No tiene placas registradas\", deshabilitar la selección\r\n        if (listPlacas.size() == 1 && listPlacas.get(0).equals(\"No tiene placas registradas\")) {\r\n            spPlacaViatico.setEnabled(false);\r\n        } else {\r\n            spPlacaViatico.setEnabled(true);\r\n        }\r\n    }\r\n\r\n\r\n    private void setDateField(TextInputLayout tilFechaViatico) {\r\n        mCalendar = Calendar.getInstance();\r\n        DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                // Configurar la fecha en el calendario\r\n                anioCalendar = year;\r\n                mesCalendar = month;\r\n                diaCalendar = dayOfMonth;\r\n                mCalendar.set(Calendar.YEAR, year);\r\n                mCalendar.set(Calendar.MONTH, month);\r\n                mCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n\r\n                // Formatear la fecha seleccionada\r\n                SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.US); // Asegurar formato correcto\r\n                String fechaSeleccionada = sdf.format(mCalendar.getTime());\r\n\r\n                Log.d(\"DEBUG_FECHA\", \"Fecha seleccionada antes de validación: \" + fechaSeleccionada);\r\n\r\n                // Validar la fecha\r\n                if (!esFechaValida(fechaSeleccionada)) {\r\n                    tilFechaViatico.setErrorEnabled(true);\r\n                    tilFechaViatico.setError(\"Fecha inválida. No puede ser en fin de semana.\");\r\n                    tilFechaViatico.setEndIconMode(TextInputLayout.END_ICON_NONE);\r\n                } else {\r\n                    Log.d(\"DEBUG_FECHA\", \"Fecha aceptada correctamente: \" + fechaSeleccionada);\r\n                    mFechaFactura.setError(null);\r\n                    tilFechaViatico.setError(null);\r\n                    tilFechaViatico.setErrorEnabled(false);\r\n                    tilFechaViatico.setEndIconMode(TextInputLayout.END_ICON_CUSTOM);\r\n                    tilFechaViatico.setEndIconDrawable(ContextCompat.getDrawable(context, R.drawable.ic_check_circle_green_24dp));\r\n                }\r\n\r\n                // Establecer la fecha en el campo de texto\r\n                mFechaFactura.setText(fechaSeleccionada);\r\n            }\r\n        };\r\n\r\n        mDatePickerDialog = new DatePickerDialog(this, date,\r\n                mCalendar.get(Calendar.YEAR),\r\n                mCalendar.get(Calendar.MONTH),\r\n                mCalendar.get(Calendar.DAY_OF_MONTH)\r\n        );\r\n\r\n        mFechaFactura.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mDatePickerDialog.show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // TextWatcher para escuchar cambios en los TextInputEditText\r\n    private final TextWatcher textWatcher = new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n            // No se necesita hacer nada aquí\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n            // Llamar al método para calcular el total cuando cambia el texto\r\n            calcularTotal();\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            // No se necesita hacer nada aquí\r\n        }\r\n    };\r\n\r\n    private boolean esFechaValida(String fecha) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.US); // Formato explícito\r\n        try {\r\n            // Intentar parsear la fecha\r\n            Date date = sdf.parse(fecha);\r\n            if (date == null) {\r\n                Log.e(\"DEBUG_FECHA\", \"Error: La fecha parseada es nula\");\r\n                return false;\r\n            }\r\n\r\n            // Configurar el calendario con la fecha parseada\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n\r\n            Log.d(\"DEBUG_FECHA\", \"Fecha convertida correctamente: \" + fecha);\r\n            Log.d(\"DEBUG_FECHA\", \"Día de la semana: \" + dayOfWeek);\r\n\r\n            // Si el concepto es 129 o 130, la fecha NO debe ser fin de semana\r\n            if ((idconcepto == 129 || idconcepto == 130) && (dayOfWeek == Calendar.SATURDAY || dayOfWeek == Calendar.SUNDAY)) {\r\n                Log.w(\"DEBUG_FECHA\", \"Fecha inválida: es fin de semana y el concepto es \" + idconcepto);\r\n                return false; // Fecha no válida\r\n            }\r\n        } catch (ParseException e) {\r\n            Log.e(\"DEBUG_FECHA\", \"Error al parsear la fecha: \" + fecha, e);\r\n            return false; // Si ocurre un error en el parseo, la fecha es inválida\r\n        }\r\n        return true; // Fecha válida\r\n    }\r\n\r\n\r\n\r\n    private void calcularTotal() {\r\n        double subtotalViatico = ParseDouble(etSubtotalViatico.getText().toString());\r\n        double subtotalIvaViatico = ParseDouble(etSubtotalIvaViatico.getText().toString());\r\n\r\n        double totalViatico = subtotalViatico + subtotalIvaViatico;\r\n        etTotalViatico.setText(String.valueOf(totalViatico));\r\n    }\r\n\r\n\r\n    private double ParseDouble(String value) {\r\n        try {\r\n            return value.isEmpty() ? 0.0 : Double.parseDouble(value);\r\n        } catch (NumberFormatException e) {\r\n            return 0.0;\r\n        }\r\n    }\r\n\r\n\r\n    private void seleccionarImagen() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        seleccionarImagenLauncher.launch(intent);\r\n    }\r\n\r\n    private final ActivityResultLauncher<Intent> seleccionarImagenLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -> {\r\n                if (result.getResultCode() == Activity.RESULT_OK && result.getData() != null) {\r\n                    Uri selectedImageUri = result.getData().getData();\r\n                    if (selectedImageUri != null) {\r\n                        try {\r\n                            // ✅ Convertir la URI en un Bitmap correctamente\r\n                            imageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), selectedImageUri);\r\n                            // ✅ Mostrar la imagen en el ImageView\r\n                            FotoSeleccionda.setImageBitmap(imageBitmap);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                            Toast.makeText(this, \"Error al cargar la imagen\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n    private File createImageFile() throws IOException {\r\n    // Create an image file name\r\n    String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\r\n    String imageFileName = \"JPEG_\" + timeStamp + \"_\";\r\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n    File image = File.createTempFile(\r\n            imageFileName,  /* prefix */\r\n            \".jpg\",         /* suffix */\r\n            storageDir      /* directory */\r\n    );\r\n\r\n    // Save a file: path for use with ACTION_VIEW intents\r\n    currentPhotoPath = image.getAbsolutePath();\r\n    return image;\r\n}\r\n\r\n\r\n    private void tomarFoto() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n        // ✅ Verificar si hay una aplicación de cámara disponible\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) == null) {\r\n            Toast.makeText(this, \"No hay aplicación de cámara disponible\", Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n\r\n        // ✅ Crear el archivo donde se almacenará la imagen\r\n        try {\r\n            photoFile = createImageFile();\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(this,\r\n                        \"com.rocnarf.rocnarf.fileprovider\",\r\n                        photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                tomarFotoLauncher.launch(takePictureIntent);\r\n            }\r\n        } catch (IOException ex) {\r\n            Toast.makeText(this, \"Error al crear archivo para la imagen\", Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n\r\n    private void solicitarPermisoCamara() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n            tomarFoto();  // ✅ Ya tiene permiso, toma la foto inmediatamente\r\n        } else if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) {\r\n            // ✅ Mostrar una explicación si el usuario ha denegado el permiso antes\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(\"Permiso de Cámara Necesario\")\r\n                    .setMessage(\"Esta aplicación necesita acceso a la cámara para tomar fotos de viáticos.\")\r\n                    .setPositiveButton(\"Aceptar\", (dialog, which) -> {\r\n                        ActivityCompat.requestPermissions(this,\r\n                                new String[]{Manifest.permission.CAMERA},\r\n                                REQUEST_CAMERA_PERMISSION);\r\n                    })\r\n                    .setNegativeButton(\"Cancelar\", (dialog, which) -> dialog.dismiss())\r\n                    .create()\r\n                    .show();\r\n        } else {\r\n            // ✅ Solicitar permiso directamente\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.CAMERA},\r\n                    REQUEST_CAMERA_PERMISSION);\r\n        }\r\n    }\r\n\r\n    private final ActivityResultLauncher<Intent> tomarFotoLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -> {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    // ✅ Imagen tomada con éxito, cargarla en el ImageView\r\n                    imageBitmap = decodeBitmap(photoFile.getAbsolutePath(), 400);\r\n                    FotoSeleccionda.setImageBitmap(imageBitmap);\r\n                } else {\r\n                    Toast.makeText(this, \"Foto no tomada\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n\r\n    private Bitmap decodeBitmap(String imagePath, int requiredSize) {\r\n        BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inJustDecodeBounds = true;\r\n        BitmapFactory.decodeFile(imagePath, options);\r\n\r\n        int widthTmp = options.outWidth, heightTmp = options.outHeight;\r\n        int scale = 1;\r\n        while (widthTmp / 2 >= requiredSize && heightTmp / 2 >= requiredSize) {\r\n            widthTmp /= 2;\r\n            heightTmp /= 2;\r\n            scale *= 2;\r\n        }\r\n\r\n        BitmapFactory.Options finalOptions = new BitmapFactory.Options();\r\n        finalOptions.inSampleSize = scale;\r\n        return BitmapFactory.decodeFile(imagePath, finalOptions);\r\n    }\r\n\r\n\r\n    public void llenarDatos(Viatico viatico){\r\n        etRucViatico.setText(viatico.getRuc());\r\n        etRazonSocialViatico.setText(viatico.getRazonSocial());\r\n        etFacturaViatico.setText(viatico.getNumeroFactura());\r\n        etSubtotalViatico.setText(String.valueOf(viatico.getSubTotal()));\r\n        etSubtotalIvaViatico.setText(String.valueOf(viatico.getSubTotalIva()));\r\n        etTotalViatico.setText(String.valueOf(viatico.getTotal()));\r\n        idViatico = viatico.getIdViatico();\r\n        mFechaFactura.setText(DateHelper.formatDate(viatico.getFechaFactura()));\r\n        String imageUrl = \"http://200.105.252.218/rocnarf/api/viatico/imagen/\" + idViatico;\r\n        cargarImagenDesdeUrl(imageUrl);\r\n\r\n        new Handler(Looper.getMainLooper()).postDelayed(() -> {\r\n            setSpinnerSelection(spPlacaViatico, viatico.getPlaca());\r\n        }, 500);\r\n    }\r\n\r\n    private void setSpinnerSelection(Spinner spinner, String value) {\r\n        if (spinner.getAdapter() == null) {\r\n            return; // Si el adapter aún no está asignado, no hacer nada\r\n        }\r\n\r\n        for (int i = 0; i < spinner.getAdapter().getCount(); i++) {\r\n            String item = spinner.getAdapter().getItem(i).toString().trim();\r\n            if (item.equalsIgnoreCase(value.trim())) { // Comparación insensible a mayúsculas/minúsculas y espacios\r\n                spinner.setSelection(i);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Manejar los clics de los elementos del menú de la ActionBar\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                // Acción cuando se hace clic en el botón de retroceso\r\n                onBackPressed(); // Esto cierra la actividad actual y vuelve a la actividad anterior\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                //Permiso concedido, tomar foto\r\n                tomarFoto();\r\n            } else {\r\n                //Permiso denegado, informar al usuario\r\n                Toast.makeText(this, \"Permiso de cámara denegado. No puedes tomar fotos.\", Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    private byte[] profileImage(Bitmap b){\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        b.compress(Bitmap.CompressFormat.PNG, 0, bos);\r\n        return bos.toByteArray();\r\n\r\n    }\r\n\r\n    private void cargarImagenDesdeUrl(String imageUrl) {\r\n        ImageDownloader downloader = new ImageDownloader();\r\n        downloader.descargarImagen(imageUrl, FotoSeleccionda);\r\n    }\r\n\r\n    private void disableFields(View... fields) {\r\n        for (View field : fields) {\r\n            field.setEnabled(false);\r\n            field.setClickable(false);\r\n            field.setFocusable(false);\r\n            if (field instanceof Spinner) {\r\n                field.setOnTouchListener((v, event) -> true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void enableFields(View... fields) {\r\n        for (View field : fields) {\r\n            field.setEnabled(true);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java b/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java
--- a/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java	(date 1744667652847)
@@ -334,7 +334,6 @@
         viatico.setFecha(new Date());
         mCalendar.set(anioCalendar, mesCalendar, diaCalendar, horaTimePicker, minutosTimePicker);
         viatico.setFechaFactura(mCalendar.getTime());
-        Log.d("Fecha hp:", mCalendar.getTime().toString());
         viatico.setIdCiclo(idciclo);
         viatico.setComentario("Registro en revisión");
         viatico.setRazonSocial(etRazonSocialViatico.getText().toString());
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AndroidLayouts\">\r\n    <shared>\r\n      <config>\r\n        <device id=\"pixel_9\" />\r\n      </config>\r\n    </shared>\r\n    <layouts>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_cartera_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_busqueda.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_criterios.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_criterios_semanal.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_cupo_credito.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_facturas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_clientes_facturas_nota_debitos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_cobro.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_crear_obsequio.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_editar_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_estadistica.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_factura_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_historial_comentarios.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_historial_producto_promocionado.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_historial_visitas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_login.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_main.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_medico_ficha.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_medicos_categoria.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_medicos_cumpleanyos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_panel_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_parrilla.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pdf.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedido.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_cobro_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_lista.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_simple.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedidos_pendiente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_pedidos_pendiente_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_planes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_planificacion_crear.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_productos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_queja.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_queja_crear.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_recetas_x.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_registro_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_resultado_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_resultado_clientes_semanal.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_resultado_visita.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_sync.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_usuario.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_version.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_viatico_historial.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_visita_impulsadora_crear.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/activity_visor_doc.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/app_bar_main.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/bottom_sheet_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/bottomsheetlayout.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_main.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_panel_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_planificacion_crear.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_resultado_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_resultado_clientes_semanal.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_resultado_visita.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme.NoActionBar</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/content_visita_impulsadora_crear.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/dialog_pedido_cantidad.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/dialog_resultado_visita.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/dialog_resultado_visita_doctores.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_cliente_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_cobro.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_factura_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_notacredito.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_pedido.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_pedido_producto.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_planificacion_contenido_row.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_planificacion_fecha_row.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/fragment_planificacion_list.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/loding_layout.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/nav_header_main.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_agregar_promocionado.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_cartera_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_clientes_facturas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_clientes_facturas_nota_debitos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_cobro_fragment.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_cumpleanyos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_factura_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_guia_productos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_historial_comentario.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_image_impulsacion.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_item_nc.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_nc_fragment.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_panel_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_panel_obsequio.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_panel_plan.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_pedido_lista.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_pedido_producto.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_pedidos_pendiente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_pedidos_pendiente_detalle.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_politicas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_preguntas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_productos.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_queja.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_recetas_x.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_reporte_ventas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_resultado_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_rutas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_ventas_mensuales_clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/layout/row_viatico_historial.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/activity_main_drawer.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/clientes.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/main.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/menu_map_geolocalizacion.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/menu_pedido.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/menu_pedidos_detalle_cliente.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/menu_viatico.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/politicas.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$PROJECT_DIR$/app/src/main/res/menu/producto.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n      <layout url=\"file://$USER_HOME$/AppData/Local/Android/Sdk/platforms/android-33/data/res/layout/simple_list_item_1.xml\">\r\n        <config>\r\n          <theme>@style/AppTheme</theme>\r\n        </config>\r\n      </layout>\r\n    </layouts>\r\n  </component>\r\n  <component name=\"AndroidLogFilters\">\r\n    <option name=\"TOOL_WINDOW_LOG_LEVEL\" value=\"debug\" />\r\n    <option name=\"TOOL_WINDOW_CONFIGURED_FILTER\" value=\"No Filters\" />\r\n    <option name=\"TOOL_WINDOW_REGEXP_FILTER\" value=\"false\" />\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"NONE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"c6c4e8bf-1cc8-4c9d-a7e5-46cc94718b99\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/deploymentTargetSelector.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/deploymentTargetSelector.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PlanificacionFragment.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PlanificacionFragment.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/api/ApiClient.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/api/ApiClient.java\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ClangdSettings\">\r\n    <option name=\"formatViaClangd\" value=\"false\" />\r\n  </component>\r\n  <component name=\"ExecutionTargetManager\" SELECTED_TARGET=\"device_and_snapshot_combo_box_target[DeviceId(pluginId=LocalEmulator, isTemplate=false, identifier=path=C:\\Users\\Administrador\\.android\\avd\\Medium_Phone.avd)]\" />\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"ExternalProjectsManager\">\r\n    <system id=\"GRADLE\">\r\n      <state>\r\n        <task path=\"$PROJECT_DIR$/build.gradle\">\r\n          <activation />\r\n        </task>\r\n        <task path=\"$PROJECT_DIR$/app\">\r\n          <activation />\r\n        </task>\r\n        <projects_view>\r\n          <tree_state>\r\n            <expand>\r\n              <path>\r\n                <item name=\"\" type=\"6a2764b6:ExternalProjectsStructure$RootNode\" />\r\n                <item name=\"rocnarf\" type=\"f1a62948:ProjectNode\" />\r\n              </path>\r\n              <path>\r\n                <item name=\"\" type=\"6a2764b6:ExternalProjectsStructure$RootNode\" />\r\n                <item name=\"rocnarf\" type=\"f1a62948:ProjectNode\" />\r\n                <item name=\"app\" type=\"2d1252cf:ModuleNode\" />\r\n              </path>\r\n              <path>\r\n                <item name=\"\" type=\"6a2764b6:ExternalProjectsStructure$RootNode\" />\r\n                <item name=\"rocnarf\" type=\"f1a62948:ProjectNode\" />\r\n                <item name=\"app\" type=\"2d1252cf:ModuleNode\" />\r\n                <item name=\"Tasks\" type=\"e4a08cd1:TasksNode\" />\r\n              </path>\r\n              <path>\r\n                <item name=\"\" type=\"6a2764b6:ExternalProjectsStructure$RootNode\" />\r\n                <item name=\"rocnarf\" type=\"f1a62948:ProjectNode\" />\r\n                <item name=\"app\" type=\"2d1252cf:ModuleNode\" />\r\n                <item name=\"Tasks\" type=\"e4a08cd1:TasksNode\" />\r\n                <item name=\"other\" type=\"c8890929:TasksNode$1\" />\r\n              </path>\r\n            </expand>\r\n            <select />\r\n          </tree_state>\r\n        </projects_view>\r\n      </state>\r\n    </system>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"layoutResourceFile\" />\r\n        <option value=\"resourceFile\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"GenerateSignedApkSettings\">\r\n    <option name=\"KEY_STORE_PATH\" value=\"C:\\Keys\\rocnarf.jks\" />\r\n    <option name=\"KEY_ALIAS\" value=\"key1\" />\r\n    <option name=\"REMEMBER_PASSWORDS\" value=\"true\" />\r\n    <option name=\"BUILD_TARGET_KEY\" value=\"apk\" />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n    <option name=\"RESET_MODE\" value=\"HARD\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 1\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2122bXbA9WH7mDaTjSpM6xzUCkf\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Android App.app.executor&quot;: &quot;Run&quot;,\r\n    &quot;ApkExportedModule&quot;: &quot;rocnarf.app&quot;,\r\n    &quot;ExportApk.ApkPathForrocnarf.app&quot;: &quot;C:\\\\APK&quot;,\r\n    &quot;Logcat.SavePath&quot;: &quot;D:\\\\RocnarfApp\\\\rocnarf&quot;,\r\n    &quot;RunOnceActivity.cidr.known.project.marker&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.readMode.enableVisualFormatting&quot;: &quot;true&quot;,\r\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\r\n    &quot;cf.first.check.clang-format&quot;: &quot;false&quot;,\r\n    &quot;cidr.known.project.marker&quot;: &quot;true&quot;,\r\n    &quot;com.android.tools.idea.streaming.zoom.toolbar.visible&quot;: &quot;false&quot;,\r\n    &quot;com.google.services.firebase.aqiPopupShown&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;Dev&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,\r\n    &quot;last_directory_selection&quot;: &quot;C:/App/rocnarf/app/src/main/res/drawable&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/BD ROCNARF&quot;,\r\n    &quot;project.structure.last.edited&quot;: &quot;Suggestions&quot;,\r\n    &quot;project.structure.proportion&quot;: &quot;0.17&quot;,\r\n    &quot;project.structure.side.proportion&quot;: &quot;0.2&quot;,\r\n    &quot;recommended.upgrade.last.time.stamp&quot;: &quot;1710996114935&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;reference.settingsdialog.project.gradle&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;ExportApk.BuildVariants&quot;: [\r\n      &quot;release&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"PsdUISettings\">\r\n    <option name=\"MODULE_TAB\" value=\"Properties\" />\r\n    <option name=\"LAST_EDITED_SIGNING_CONFIG\" value=\"debug\" />\r\n    <option name=\"LAST_EDITED_BUILD_TYPE\" value=\"release\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CreateClassDialog.RecentsKey\">\r\n      <recent name=\"com.rocnarf.rocnarf\" />\r\n    </key>\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\App\\rocnarf\\app\\src\\main\\res\\drawable\" />\r\n      <recent name=\"D:\\RocnarfApp\\rocnarf\\app\\src\\main\\res\\values\" />\r\n      <recent name=\"D:\\RocnarfApp\\rocnarf\\app\\src\\main\\res\\drawable\" />\r\n      <recent name=\"D:\\RocnarfApp\\rocnarf\\app\\src\\main\\res\\layout\" />\r\n      <recent name=\"D:\\RocnarfApp\\rocnarf\\app\\src\\main\\res\\anim\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\RocnarfApp\\rocnarf\\app\\src\\main\\res\\drawable-hdpi\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.rocnarf.rocnarf.models\" />\r\n      <recent name=\"com.rocnarf.rocnarf.adapters\" />\r\n      <recent name=\"com.rocnarf.rocnarf\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Android App.app\">\r\n    <configuration name=\"app\" type=\"AndroidRunConfigurationType\" factoryName=\"Android App\">\r\n      <module name=\"rocnarf.app\" />\r\n      <option name=\"ANDROID_RUN_CONFIGURATION_SCHEMA_VERSION\" value=\"1\" />\r\n      <option name=\"DEPLOY\" value=\"true\" />\r\n      <option name=\"DEPLOY_APK_FROM_BUNDLE\" value=\"false\" />\r\n      <option name=\"DEPLOY_AS_INSTANT\" value=\"false\" />\r\n      <option name=\"ARTIFACT_NAME\" value=\"\" />\r\n      <option name=\"PM_INSTALL_OPTIONS\" value=\"\" />\r\n      <option name=\"ALL_USERS\" value=\"false\" />\r\n      <option name=\"ALWAYS_INSTALL_WITH_PM\" value=\"false\" />\r\n      <option name=\"ALLOW_ASSUME_VERIFIED\" value=\"false\" />\r\n      <option name=\"CLEAR_APP_STORAGE\" value=\"false\" />\r\n      <option name=\"DYNAMIC_FEATURES_DISABLED_LIST\" value=\"\" />\r\n      <option name=\"ACTIVITY_EXTRA_FLAGS\" value=\"\" />\r\n      <option name=\"MODE\" value=\"default_activity\" />\r\n      <option name=\"RESTORE_ENABLED\" value=\"false\" />\r\n      <option name=\"RESTORE_FILE\" value=\"\" />\r\n      <option name=\"CLEAR_LOGCAT\" value=\"false\" />\r\n      <option name=\"SHOW_LOGCAT_AUTOMATICALLY\" value=\"false\" />\r\n      <option name=\"TARGET_SELECTION_MODE\" value=\"DEVICE_AND_SNAPSHOT_COMBO_BOX\" />\r\n      <option name=\"SELECTED_CLOUD_MATRIX_CONFIGURATION_ID\" value=\"-1\" />\r\n      <option name=\"SELECTED_CLOUD_MATRIX_PROJECT_ID\" value=\"\" />\r\n      <option name=\"DEBUGGER_TYPE\" value=\"Auto\" />\r\n      <Auto>\r\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\r\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\r\n        <option name=\"WORKING_DIR\" value=\"\" />\r\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\r\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\r\n        <option name=\"ATTACH_ON_WAIT_FOR_DEBUGGER\" value=\"false\" />\r\n        <option name=\"DEBUG_SANDBOX_SDK\" value=\"false\" />\r\n      </Auto>\r\n      <Hybrid>\r\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\r\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\r\n        <option name=\"WORKING_DIR\" value=\"\" />\r\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\r\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\r\n        <option name=\"ATTACH_ON_WAIT_FOR_DEBUGGER\" value=\"false\" />\r\n        <option name=\"DEBUG_SANDBOX_SDK\" value=\"false\" />\r\n      </Hybrid>\r\n      <Java>\r\n        <option name=\"ATTACH_ON_WAIT_FOR_DEBUGGER\" value=\"false\" />\r\n        <option name=\"DEBUG_SANDBOX_SDK\" value=\"false\" />\r\n      </Java>\r\n      <Native>\r\n        <option name=\"USE_JAVA_AWARE_DEBUGGER\" value=\"false\" />\r\n        <option name=\"SHOW_STATIC_VARS\" value=\"true\" />\r\n        <option name=\"WORKING_DIR\" value=\"\" />\r\n        <option name=\"TARGET_LOGGING_CHANNELS\" value=\"lldb process:gdb-remote packets\" />\r\n        <option name=\"SHOW_OPTIMIZED_WARNING\" value=\"true\" />\r\n        <option name=\"ATTACH_ON_WAIT_FOR_DEBUGGER\" value=\"false\" />\r\n        <option name=\"DEBUG_SANDBOX_SDK\" value=\"false\" />\r\n      </Native>\r\n      <Profilers>\r\n        <option name=\"ADVANCED_PROFILING_ENABLED\" value=\"false\" />\r\n        <option name=\"STARTUP_PROFILING_ENABLED\" value=\"false\" />\r\n        <option name=\"STARTUP_CPU_PROFILING_ENABLED\" value=\"false\" />\r\n        <option name=\"STARTUP_CPU_PROFILING_CONFIGURATION_NAME\" value=\"Java/Kotlin Method Sample (legacy)\" />\r\n        <option name=\"STARTUP_NATIVE_MEMORY_PROFILING_ENABLED\" value=\"false\" />\r\n        <option name=\"NATIVE_MEMORY_SAMPLE_RATE_BYTES\" value=\"2048\" />\r\n      </Profilers>\r\n      <option name=\"DEEP_LINK\" value=\"\" />\r\n      <option name=\"ACTIVITY\" value=\"\" />\r\n      <option name=\"ACTIVITY_CLASS\" value=\"\" />\r\n      <option name=\"SEARCH_ACTIVITY_IN_GLOBAL_SCOPE\" value=\"false\" />\r\n      <option name=\"SKIP_ACTIVITY_VALIDATION\" value=\"false\" />\r\n      <method v=\"2\">\r\n        <option name=\"Android.Gradle.BeforeRunTask\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"D:/RocnarfApp/rocnarf/build.gradle\" type=\"GradleRunConfiguration\" factoryName=\"Gradle\" temporary=\"true\">\r\n      <ExternalSystemSettings>\r\n        <option name=\"executionName\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$/build.gradle\" />\r\n        <option name=\"externalSystemIdString\" value=\"GRADLE\" />\r\n        <option name=\"scriptParameters\" />\r\n        <option name=\"taskDescriptions\">\r\n          <list />\r\n        </option>\r\n        <option name=\"taskNames\">\r\n          <list />\r\n        </option>\r\n        <option name=\"vmOptions\" />\r\n      </ExternalSystemSettings>\r\n      <ExternalSystemDebugServerProcess>true</ExternalSystemDebugServerProcess>\r\n      <ExternalSystemReattachDebugProcess>true</ExternalSystemReattachDebugProcess>\r\n      <DebugAllEnabled>false</DebugAllEnabled>\r\n      <RunAsTest>false</RunAsTest>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Gradle.D:/RocnarfApp/rocnarf/build.gradle\" />\r\n        <item itemvalue=\"Gradle.D:/RocnarfApp/rocnarf/build.gradle\" />\r\n        <item itemvalue=\"Gradle.D:/RocnarfApp/rocnarf/build.gradle\" />\r\n        <item itemvalue=\"Gradle.D:/RocnarfApp/rocnarf/build.gradle\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"c6c4e8bf-1cc8-4c9d-a7e5-46cc94718b99\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1637124936336</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1637124936336</updated>\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"Dev\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n  </component>\r\n  <component name=\"play_dynamic_filters_status\">\r\n    <option name=\"appIdToCheckInfo\">\r\n      <map>\r\n        <entry key=\"com.rocnarf.rocnarf\">\r\n          <value>\r\n            <CheckInfo lastCheckTimestamp=\"1744129233923\" />\r\n          </value>\r\n        </entry>\r\n        <entry key=\"com.rocnarf.rocnarf.test\">\r\n          <value>\r\n            <CheckInfo lastCheckTimestamp=\"1744129233927\" />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/.idea/workspace.xml	(date 1744897305513)
@@ -107,6 +107,11 @@
           <theme>@style/AppTheme</theme>
         </config>
       </layout>
+      <layout url="file://$PROJECT_DIR$/app/src/main/res/layout/activity_nc_detalle.xml">
+        <config>
+          <theme>@style/AppTheme</theme>
+        </config>
+      </layout>
       <layout url="file://$PROJECT_DIR$/app/src/main/res/layout/activity_panel_clientes.xml">
         <config>
           <theme>@style/AppTheme</theme>
@@ -574,11 +579,15 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="c6c4e8bf-1cc8-4c9d-a7e5-46cc94718b99" name="Default Changelist" comment="">
+      <change afterPath="$PROJECT_DIR$/app/src/main/res/drawable/bg_fab_custom.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/deploymentTargetSelector.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/deploymentTargetSelector.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PlanificacionFragment.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PlanificacionFragment.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/PedidoListaActivity.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/RegistroViaticoActivity.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/api/ApiClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/api/ApiClient.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_lista.xml" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/res/layout/activity_pedido_lista.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/src/main/res/layout/activity_version.xml" beforeDir="false" afterPath="$PROJECT_DIR$/app/src/main/res/layout/activity_version.xml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -640,8 +649,8 @@
       <list>
         <option value="Interface" />
         <option value="layoutResourceFile" />
+        <option value="Class" />
         <option value="resourceFile" />
-        <option value="Class" />
       </list>
     </option>
   </component>
@@ -880,12 +889,12 @@
       <map>
         <entry key="com.rocnarf.rocnarf">
           <value>
-            <CheckInfo lastCheckTimestamp="1744129233923" />
+            <CheckInfo lastCheckTimestamp="1744833635941" />
           </value>
         </entry>
         <entry key="com.rocnarf.rocnarf.test">
           <value>
-            <CheckInfo lastCheckTimestamp="1744129233927" />
+            <CheckInfo lastCheckTimestamp="1744833635944" />
           </value>
         </entry>
       </map>
Index: app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rocnarf.rocnarf.adapters;\r\n\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.text.Spannable;\r\nimport android.text.SpannableStringBuilder;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport com.rocnarf.rocnarf.R;\r\n\r\nimport com.rocnarf.rocnarf.models.EscalaBonificacion;\r\nimport com.rocnarf.rocnarf.models.PedidoDetalle;\r\nimport com.rocnarf.rocnarf.models.Producto;\r\nimport com.rocnarf.rocnarf.viewmodel.PedidoViewModel;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ProductosReciclerViewAdapter extends RecyclerView.Adapter<ProductosReciclerViewAdapter.ViewHolder>\r\n    implements Filterable {\r\n    private final List<Producto> mValues;\r\n    private List<Producto> mValuesFiltrados;\r\n    private AddProductoListener listener;\r\n    private String idCliente;\r\n    private int idLocalPedido;\r\n    private final List<EscalaBonificacion> mEscalas;\r\n    private PedidoViewModel pedidoViewModel;\r\n    private List<PedidoDetalle> pedidoDetalles;\r\n\r\n    private Boolean usarPrecioEspecial;\r\n    public ProductosReciclerViewAdapter(List<Producto> mValues, List<EscalaBonificacion> mEscalas, String idCliente, AddProductoListener listener, List<PedidoDetalle> pedidoDetalles, Boolean usarPrecioEspecial){\r\n        this.listener = listener;\r\n        this.mEscalas = mEscalas;\r\n        this.mValues = mValues;\r\n        this.mValuesFiltrados = mValues;\r\n        this.idCliente = idCliente;\r\n        this.pedidoDetalles = pedidoDetalles;\r\n        this.usarPrecioEspecial = usarPrecioEspecial;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view = LayoutInflater.from(viewGroup.getContext())\r\n                .inflate(R.layout.row_productos, viewGroup, false);\r\n        return new ViewHolder(view, this.listener);\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, final int position) {\r\n        NumberFormat formatoNumero = NumberFormat.getNumberInstance();\r\n        holder.mItem = mValuesFiltrados.get(position);\r\n        holder.mCodigo.setText(mValuesFiltrados.get(position).getIdProducto() + \" - \" + mValuesFiltrados.get(position).getIdProducto2());\r\n        holder.mTipo.setText(\"\" + mValuesFiltrados.get(position).getTipo());\r\n        double xpvp = mValuesFiltrados.get(position).getPorcentajePvp() == null ? 0 :mValuesFiltrados.get(position).getPorcentajePvp();\r\n\r\n        double precio = mValuesFiltrados.get(position).getPrecio();\r\n        double pvp = mValuesFiltrados.get(position).getPvp();\r\n        Double precioEspecial = mValuesFiltrados.get(position).getPrecioEspecial();\r\n\r\n        SpannableStringBuilder builder = new SpannableStringBuilder();\r\n        builder.append(\"P.V.F.: $ \").append(String.format(\"%.2f\", precio));\r\n        builder.append(\"  P.V.P.: $ \").append(String.format(\"%.2f\", pvp));\r\n\r\n        if (precioEspecial != null) {\r\n            String pveText = \"  P.V.E.: $ \" + String.format(\"%.2f\", precioEspecial);\r\n            int start = builder.length();\r\n            builder.append(pveText);\r\n            int end = builder.length();\r\n\r\n            builder.setSpan(new android.text.style.StyleSpan(android.graphics.Typeface.BOLD), start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        }\r\n\r\n        holder.mPrecio.setText(builder);\r\n\r\n        holder.mSaldo.setText(\"Saldo: \" +  formatoNumero.format(mValuesFiltrados.get(position).getSaldo()).toString());\r\n\r\n        String escalas = \"\";\r\n        //Log.d(\"pro\",\"pro\" + mEscalas);\r\n        if (mEscalas != null) {\r\n            for (EscalaBonificacion bonificacion : mEscalas) {\r\n                if (bonificacion.getIdEscala() == mValuesFiltrados.get(position).getIdEscala()) {\r\n                    if (escalas.isEmpty()) {\r\n                        escalas = \"\" + String.valueOf(bonificacion.getCantidad()) + \" + \" + String.valueOf(bonificacion.getBonificacion());\r\n                    } else {\r\n                        escalas += \" | \" + String.valueOf(bonificacion.getCantidad()) + \" + \" + String.valueOf(bonificacion.getBonificacion());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (usarPrecioEspecial != null && usarPrecioEspecial) {\r\n            holder.mEscalaBonificacion.setVisibility(View.GONE);\r\n            holder.mEscalaBonificacion.setText(\"\");\r\n        } else {\r\n            holder.mEscalaBonificacion.setVisibility(View.VISIBLE);\r\n            holder.mEscalaBonificacion.setText(escalas);\r\n        }\r\n\r\n        if (escalas.isEmpty()) holder.mEscalaBonificacion.setVisibility(View.GONE); else holder.mEscalaBonificacion.setVisibility(View.VISIBLE);\r\n        holder.mProducto.setText(mValuesFiltrados.get(position).getNombre());\r\n        final String codigProducto = mValuesFiltrados.get(position).getIdProducto();\r\n        if (this.idCliente != null ){\r\n            holder.mContenedor.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    holder.mAgregarLayout.setVisibility( holder.mAgregarLayout.getVisibility() == View.GONE? View.VISIBLE : View.GONE );\r\n\r\n                    for (int i = 0; i < pedidoDetalles.size(); i++) {\r\n\r\n                        if( pedidoDetalles.get(i).getIdProducto().equals(codigProducto)){\r\n                            holder.mBono.setText(String.valueOf(pedidoDetalles.get(i).getBono()));\r\n                            holder.mCantidad.setText(String.valueOf(pedidoDetalles.get(i).getCantidad()));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n        holder.mAgregarLayout.setVisibility(View.GONE);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mValuesFiltrados.size();\r\n    }\r\n\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n        return new Filter() {\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence charSequence) {\r\n                String query = charSequence.toString();\r\n\r\n                List<Producto> filtered = new ArrayList<>();\r\n                if (query.isEmpty()) {\r\n                    filtered = mValues;\r\n                } else {\r\n                    for (Producto producto : mValues) {\r\n//                        Log.d(\"myTag\", \"producto   \" + producto.getTipo());\r\n                        String tipo = (producto.getTipo() ==null ? \"\": producto.getTipo());\r\n                        String marca = (producto.getMarca() ==null ? \"\": producto.getMarca());\r\n                        if (producto.getNombre().toLowerCase().contains(query.toLowerCase()) || tipo.toLowerCase().contains(query.toLowerCase())  || marca.toLowerCase().contains(query.toLowerCase())) {\r\n                            filtered.add(producto);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                FilterResults results = new FilterResults();\r\n                results.count = filtered.size();\r\n                results.values = filtered;\r\n                return results;\r\n            }\r\n\r\n            @Override\r\n            protected void publishResults(CharSequence charSequence, FilterResults results) {\r\n                mValuesFiltrados = (List<Producto>) results.values;\r\n                notifyDataSetChanged();\r\n            }\r\n        };\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final View mView;\r\n        public final ConstraintLayout mContenedor;\r\n        public final TextView mCodigo;\r\n        public final TextView mProducto;\r\n        public final TextView mPrecio;\r\n        public final TextView mSaldo;\r\n        public final TextView mEscalaBonificacion;\r\n        public final TextView mTipo;\r\n        public final TextInputEditText mCantidad;\r\n        public final TextInputEditText  mBono;\r\n        public final LinearLayout mAgregarLayout;\r\n        public final ImageButton mAgregar;\r\n        public Producto mItem;\r\n\r\n\r\n        public ViewHolder(View view, final AddProductoListener listener) {\r\n            super(view);\r\n            mView = view;\r\n            mContenedor = (ConstraintLayout) view.findViewById((R.id.cl_contenedor_row_productos));\r\n            mCodigo = (TextView) view.findViewById(R.id.tv_codigo_row_productos);\r\n            mProducto = (TextView) view.findViewById(R.id.tv_producto_row_productos);\r\n            mPrecio = (TextView) view.findViewById(R.id.tv_precio_row_productos);\r\n            mSaldo = (TextView) view.findViewById(R.id.tv_saldo_row_productos);\r\n            mEscalaBonificacion = (TextView) view.findViewById(R.id.tv_escala_row_productos);\r\n            mTipo = (TextView) view.findViewById(R.id.tv_tipo_row_productos);\r\n            mCantidad = (TextInputEditText) view.findViewById(R.id.et_cantidad_row_productos);\r\n            mBono = (TextInputEditText) view.findViewById(R.id.et_bono_row_productos);\r\n            mAgregarLayout = (LinearLayout) view.findViewById(R.id.ll_agregar_row_productos);\r\n            mAgregar = (ImageButton) view.findViewById(R.id.bt_agregar_row_productos);\r\n\r\n            mAgregar.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String  espacio= \"\";\r\n                    int cantidad= 0; int bono = 0;\r\n                    //if (!mCantidad.getText().toString().isEmpty()) { cantidad = Integer.parseInt( mCantidad.getText().toString()); mCantidad.setText(\"\"); }\r\n                    //if (!mBono.getText().toString().isEmpty()){ bono =Integer.parseInt( mBono.getText().toString()); mBono.setText(\"\");}\r\n                    if (!mCantidad.getText().toString().isEmpty()) { cantidad = Integer.parseInt( mCantidad.getText().toString());  }\r\n                    if (!mBono.getText().toString().isEmpty()){ bono =Integer.parseInt( mBono.getText().toString()); }\r\n                    listener.AddProducto(mItem, cantidad, bono );\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + \" '\" + mProducto.getText() + \"'\";\r\n        }\r\n    }\r\n\r\n    public interface AddProductoListener {\r\n        void AddProducto(Producto producto, int cantidad, int bono);\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java b/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java
--- a/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/java/com/rocnarf/rocnarf/adapters/ProductosReciclerViewAdapter.java	(date 1744308626049)
@@ -78,7 +78,7 @@
         builder.append("  P.V.P.: $ ").append(String.format("%.2f", pvp));
 
         if (precioEspecial != null) {
-            String pveText = "  P.V.E.: $ " + String.format("%.2f", precioEspecial);
+            String pveText = "  ESP.: $ " + String.format("%.2f", precioEspecial);
             int start = builder.length();
             builder.append(pveText);
             int end = builder.length();
Index: app/src/main/res/drawable/bg_fab_custom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/bg_fab_custom.xml b/app/src/main/res/drawable/bg_fab_custom.xml
new file mode 100644
--- /dev/null	(date 1744308168045)
+++ b/app/src/main/res/drawable/bg_fab_custom.xml	(date 1744308168045)
@@ -0,0 +1,5 @@
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+    <solid android:color="#FF0080" />
+    <corners android:radius="50dp" />
+</shape>
\ No newline at end of file
Index: app/src/main/res/layout/activity_version.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".VersionActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView3\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:text=\"Versión 2.0.0\"\r\n        android:textAlignment=\"center\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_version.xml b/app/src/main/res/layout/activity_version.xml
--- a/app/src/main/res/layout/activity_version.xml	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/res/layout/activity_version.xml	(date 1744308582066)
@@ -6,18 +6,32 @@
     android:layout_height="match_parent"
     tools:context=".VersionActivity">
 
-    <TextView
-        android:id="@+id/textView3"
-        android:layout_width="0dp"
-        android:layout_height="wrap_content"
-        android:layout_marginStart="8dp"
-        android:layout_marginTop="8dp"
-        android:layout_marginEnd="8dp"
-        android:layout_marginBottom="8dp"
-        android:text="Versión 2.0.0"
-        android:textAlignment="center"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
+    <LinearLayout
+        android:id="@+id/versionBlock"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:gravity="center"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintEnd_toEndOf="parent">
+
+        <TextView
+            android:id="@+id/textView3"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Versión 3.0.0"
+            android:textAlignment="center" />
+
+        <TextView
+            android:id="@+id/textViewFecha"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Fecha: 10/04/2025"
+            android:textAlignment="center"
+            android:layout_marginTop="4dp" />
+
+    </LinearLayout>
+
+</androidx.constraintlayout.widget.ConstraintLayout>
Index: app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rocnarf.rocnarf.adapters;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.LifecycleOwner;\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\nimport androidx.appcompat.widget.PopupMenu;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\n\r\nimport com.rocnarf.rocnarf.ClientesCupoCreditoActivity;\r\nimport com.rocnarf.rocnarf.ClientesFacturasActivity;\r\nimport com.rocnarf.rocnarf.ClientesFacturasNotaDebitosActivity;\r\nimport com.rocnarf.rocnarf.FacturaDetalleActivity;\r\nimport com.rocnarf.rocnarf.HistorialComentariosActivity;\r\nimport com.rocnarf.rocnarf.HistorialVisitasActivity;\r\nimport com.rocnarf.rocnarf.MedicoFichaActivity;\r\nimport com.rocnarf.rocnarf.MedicosCategoriaActivity;\r\nimport com.rocnarf.rocnarf.PlanificacionFragment.OnListFragmentInteractionListener;\r\nimport com.rocnarf.rocnarf.R;\r\nimport com.rocnarf.rocnarf.RecetasXActivity;\r\nimport com.rocnarf.rocnarf.Utils.Common;\r\nimport com.rocnarf.rocnarf.VentasMensualesClientesActivity;\r\nimport com.rocnarf.rocnarf.dao.UsuariosDao;\r\nimport com.rocnarf.rocnarf.models.Clientes;\r\nimport com.rocnarf.rocnarf.models.Usuario;\r\nimport com.rocnarf.rocnarf.models.VisitaClientes;\r\nimport com.rocnarf.rocnarf.models.VisitaClientesFecha;\r\nimport com.rocnarf.rocnarf.models.VisitaClientesList;\r\nimport com.rocnarf.rocnarf.repository.ClientesRepository;\r\nimport com.rocnarf.rocnarf.repository.UsuarioRepository;\r\nimport com.rocnarf.rocnarf.viewmodel.ClienteDetalleViewModel;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.List;\r\n\r\n\r\npublic class PlanificacionRecyclerViewAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> {\r\n    private List<VisitaClientesList> mValues;\r\n    private final OnListFragmentInteractionListener mListener;\r\n    Context context;\r\n    private String idCliente, idUsuario, CodigoAsesor,Seccion;\r\n    private PopupMenu popup;\r\n    public  String tipoCliente;\r\n    private ClienteDetalleViewModel clienteDetalleViewModel;\r\n    public  boolean auspicioDoc = false;\r\n    public  boolean cumpleAnyo = false;\r\n    private boolean expadir;\r\n    private ClientesRepository clientesRepository;\r\n    private UsuarioRepository usuarioRepository;\r\n    SwipeRefreshLayout swipeRefreshLayout;\r\n    private List<String> seccionesUsuario;\r\n\r\n    public PlanificacionRecyclerViewAdapter(Context context, OnListFragmentInteractionListener listener) {\r\n        this.context = context;\r\n        mListener = listener;\r\n        this.mValues = new ArrayList<>();\r\n    }\r\n\r\n\r\n\r\n    public void setItems(List<VisitaClientesList> items) {\r\n        if (mValues == null) {\r\n            mValues = new ArrayList<>();\r\n        }\r\n        this.mValues.clear(); // Limpiar la lista actual\r\n        this.mValues.addAll(items); // Agregar los nuevos elementos\r\n\r\n        // Obtener la fecha actual\r\n        Date fechaActual = new Date();\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd MM yy\", new Locale(\"es\", \"ES\"));\r\n        String fechaActualStr = dateFormat.format(fechaActual);\r\n\r\n        // Buscar la fecha actual en la lista y marcarla como expandida\r\n        for (VisitaClientesList item : mValues) {\r\n            if (item instanceof VisitaClientesFecha) {\r\n                VisitaClientesFecha fechaItem = (VisitaClientesFecha) item;\r\n                String fechaItemStr = dateFormat.format(fechaItem.getFecha());\r\n\r\n                if (fechaItemStr.equals(fechaActualStr)) {\r\n                    fechaItem.setExpanded(true); // Marcar como expandida\r\n                }\r\n            }\r\n        }\r\n\r\n        notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view;\r\n        if (viewType == VisitaClientesList.TYPE_FECHA) {\r\n            view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_planificacion_fecha_row, parent, false);\r\n            return new FechaViewHolder(view);\r\n        }else {\r\n            view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.fragment_planificacion_contenido_row, parent, false);\r\n            return new ContenidoViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\r\n\r\n        int holderType = this.getItemViewType(position);\r\n\r\n        if (holderType == VisitaClientesList.TYPE_FECHA) {\r\n            FechaViewHolder fechaHolder = (FechaViewHolder) holder;\r\n            VisitaClientesFecha planificacionFecha = (VisitaClientesFecha) mValues.get(position);\r\n\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(Common.DATE_FORMAT, new Locale(\"es\", \"ES\"));\r\n            fechaHolder.mFechaView.setText(dateFormat.format(planificacionFecha.getFecha()));\r\n\r\n            fechaHolder.mFlecha.setRotation(planificacionFecha.isExpanded() ? 180 : 0);\r\n\r\n\r\n            // Configurar el clic para alternar la expansión\r\n            fechaHolder.mView.setOnClickListener(v -> {\r\n                // Cambiar el estado de expansión\r\n                planificacionFecha.setExpanded(!planificacionFecha.isExpanded());\r\n\r\n                // Notificar al adaptador que los datos han cambiado\r\n                notifyDataSetChanged();\r\n            });\r\n        }else {\r\n\r\n            VisitaClientes planificacionItem = (VisitaClientes)mValues.get(position);\r\n\r\n            /*Log.d(\"VisitaClientes\", \"----- Datos de VisitaClientes -----\");\r\n            for (Field field : planificacionItem.getClass().getDeclaredFields()) {\r\n                field.setAccessible(true);\r\n                try {\r\n                    Log.d(\"VisitaClientes\", field.getName() + \" = \" + field.get(planificacionItem));\r\n                } catch (IllegalAccessException e) {\r\n                    Log.e(\"VisitaClientes\", \"Error al acceder al campo: \" + field.getName(), e);\r\n                }\r\n            }\r\n             */\r\n            ContenidoViewHolder contenidoHolder = (ContenidoViewHolder)holder;\r\n            contenidoHolder.mItem = planificacionItem;\r\n\r\n            // Obtener la fecha asociada a este contenido\r\n            VisitaClientesFecha fechaAsociada = obtenerFechaAsociada(position);\r\n\r\n            // Mostrar u ocultar el contenido según el estado de expansión de la fecha\r\n            if (fechaAsociada != null && !fechaAsociada.isExpanded()) {\r\n                contenidoHolder.ocultarContenido(); // Ocultar contenido y eliminar espacio\r\n            } else {\r\n                contenidoHolder.mostrarContenido(); // Mostrar contenido\r\n            }\r\n\r\n            clientesRepository = new ClientesRepository(context, planificacionItem.getCodigoAsesor());\r\n            LiveData<Clientes> clientesCumple = clientesRepository.getClientesIdLocal(planificacionItem.getCodigoCliente());\r\n\r\n            usuarioRepository = new UsuarioRepository(context);\r\n            Usuario usuario = usuarioRepository.getUsuario();\r\n            Seccion = usuario.getSeccion();\r\n            String secciones = usuario.getSecciones();\r\n\r\n            if (secciones != null && !secciones.isEmpty()) {\r\n                this.seccionesUsuario = Arrays.asList(secciones.split(\"\\\\s*,\\\\s*\"));\r\n            } else {\r\n                this.seccionesUsuario = new ArrayList<>();\r\n            }\r\n\r\n            Clientes clientesAPI = clientesCumple.getValue();\r\n\r\n            String claseMostrar = null;\r\n\r\n            List<String> rolesMultiples = Arrays.asList(\"GRC\", \"GVP\", \"GRA\", \"JVC\", \"GRS\", \"JVS\");\r\n\r\n\r\n                if (clientesAPI != null &&clientesAPI.getTipoObserv().equals(\"MEDICO\") ) {\r\n                    if (\"MEDICO\".equals(clientesAPI.getOrigen())) {\r\n\r\n\r\n                    if (planificacionItem.getSeccion() != null && !planificacionItem.getSeccion().isEmpty()) {\r\n                        boolean esRolRegional = rolesMultiples.contains(planificacionItem.getSeccion().toUpperCase());\r\n                        if (esRolRegional && seccionesUsuario != null && !seccionesUsuario.isEmpty()) {\r\n                            for (String seccion : seccionesUsuario) {\r\n                                if (seccion != null && !seccion.isEmpty()) {\r\n                                    char primerCaracter = seccion.charAt(0);\r\n\r\n                                    if (Character.isDigit(primerCaracter)) {\r\n                                        int numero = Character.getNumericValue(primerCaracter);\r\n                                        if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {\r\n                                            claseMostrar = clientesAPI.getClase();\r\n                                            break;\r\n                                        } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {\r\n                                            claseMostrar = clientesAPI.getClase3();\r\n                                            break;\r\n                                        }\r\n                                    } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')\r\n                                            && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {\r\n                                        claseMostrar = clientesAPI.getClase4();\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                        } else {\r\n                            // \uD83E\uDDEA Evaluar una sola sección\r\n                            if (Seccion != null && !Seccion.isEmpty()) {\r\n                                char primerCaracter = Seccion.charAt(0);\r\n\r\n                                if (Character.isDigit(primerCaracter)) {\r\n                                    int numero = Character.getNumericValue(primerCaracter);\r\n                                    if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {\r\n                                        claseMostrar = clientesAPI.getClase();\r\n                                    } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {\r\n                                        claseMostrar = clientesAPI.getClase3();\r\n                                    }\r\n                                } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')\r\n                                        && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {\r\n                                    claseMostrar = clientesAPI.getClase4();\r\n                                }\r\n                            } else {\r\n                                Log.w(\"ClaseMostrar\", \"La sección es nula o vacía. No se puede determinar clase.\");\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (claseMostrar != null && !claseMostrar.isEmpty()) {\r\n                        contenidoHolder.mtipoCliente.setText(\"Médico \" + claseMostrar);\r\n                    } else {\r\n                        contenidoHolder.mtipoCliente.setText((\"Médico PC\"));\r\n                    }\r\n\r\n                } else {\r\n                    if (clientesAPI.getClaseMedico() != null && !clientesAPI.getClaseMedico().isEmpty()) {\r\n                        contenidoHolder.mtipoCliente.setText((clientesAPI.getClaseMedico()));\r\n                    } else {\r\n                        contenidoHolder.mtipoCliente.setText(\"\");\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Validar y mostrar icono de revisita\r\n            if (clientesAPI != null) {\r\n                Integer revisita = clientesAPI.getRevisita();\r\n                if (revisita != null && revisita == 1 && (claseMostrar != null && claseMostrar.equals(\"A\"))) {\r\n                    contenidoHolder.mRevisitaView.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    contenidoHolder.mRevisitaView.setVisibility(View.GONE);\r\n                }\r\n            } else {\r\n                contenidoHolder.mRevisitaView.setVisibility(View.GONE);\r\n            }\r\n\r\n            if(clientesAPI != null) {\r\n                if (clientesAPI.getCumpleAnyos() != null) {\r\n                    if (clientesAPI.getCumpleAnyos()) {\r\n                        cumpleAnyo = true;\r\n                    }\r\n                } else cumpleAnyo = false;\r\n            }\r\n\r\n            if (planificacionItem.getClientes() != null) {\r\n                if (planificacionItem.getClientes().getAuspiciado() != null) {\r\n                    if (planificacionItem.getClientes().getAuspiciado() == true) auspicioDoc = true;\r\n                } else auspicioDoc = false;\r\n\r\n            }\r\n            contenidoHolder.mNombreView.setText(planificacionItem.getNombreCliente());\r\n            contenidoHolder.mCodView.setText(planificacionItem.getCodigoCliente());\r\n\r\n\r\n            SimpleDateFormat localDateFormat = new SimpleDateFormat(\"HH:mm\");\r\n            String time = localDateFormat.format(planificacionItem.getFechaVisitaPlanificada());\r\n            String Ciudad =\"\";\r\n            String EstadoVisita = \"\";\r\n\r\n            contenidoHolder.mHoraPlanificada.setText(time);\r\n            if(clientesCumple.getValue() != null) {\r\n                if (clientesCumple.getValue().getCiudad() != null) {\r\n                    Ciudad = clientesCumple.getValue().getCiudad();\r\n                }\r\n            }\r\n            contenidoHolder.mDireccionView.setText(Ciudad + \" - \" + planificacionItem.getDireccion() );\r\n            contenidoHolder.mEstasoView.setVisibility(View.GONE);\r\n\r\n            EstadoVisita = clientesRepository.getEstadoVisita(planificacionItem.getCodigoCliente(), planificacionItem.getCodigoAsesor());\r\n\r\n            // Validar si EstadoVisita es null o vacío\r\n            if (EstadoVisita == null || EstadoVisita.trim().isEmpty()) {\r\n                contenidoHolder.mEstadoFilas.setBackgroundColor(Color.parseColor(\"#808080\")); // Color gris para valores nulos o vacíos\r\n            } else if (EstadoVisita.equals(VisitaClientes.PLANIFICADO)) {\r\n                contenidoHolder.mEstadoFilas.setBackgroundColor(Color.parseColor(\"#ffff00\")); // Amarillo\r\n            } else if (EstadoVisita.equals(VisitaClientes.PEFECTIVA)) {\r\n                contenidoHolder.mEstadoFilas.setBackgroundColor(Color.parseColor(\"#FFA500\")); // Naranja\r\n            } else {\r\n                contenidoHolder.mEstadoFilas.setBackgroundColor(Color.parseColor(\"#21d162\")); // Verde\r\n            }\r\n\r\n\r\n            String motivoVisita = \"\";\r\n            motivoVisita += planificacionItem.isVisitaXPedido() ? \"Pedido \" : \"\";\r\n            motivoVisita += planificacionItem.isVisitaPromocional() ? (motivoVisita.isEmpty() ? \"Visita Promocional\" : \" - Visita Promocional\") : \"\";\r\n            motivoVisita += planificacionItem.isVisitaXCobro() ? (motivoVisita.isEmpty() ? \"Cobro\" : \" - Cobro\")  : \"\";\r\n            motivoVisita += planificacionItem.isVisitaXSiembraProducto() ? (motivoVisita.isEmpty() ? \"Siembra de Producto\" : \" - Siembra de Producto\") : \"\";\r\n            motivoVisita += planificacionItem.isVisitaPuntoContacto() ? (motivoVisita.isEmpty() ? \"Punto de Contacto\" : \" - Punto de Contacto\") : \"\";\r\n            motivoVisita += planificacionItem.isVisitaXCajasVacias() ? (motivoVisita.isEmpty() ? \"Cajas Vacias\" : \" - Cajas Vacia\")  : \"\";\r\n            motivoVisita += planificacionItem.isVisitaXEntregaPremios() ? (motivoVisita.isEmpty() ? \"Entrega de Premios\" : \" - Entrega de Premios\")  : \"\";\r\n            motivoVisita += planificacionItem.isVisitaXDevolucion() ? (motivoVisita.isEmpty() ? \"Devolucion\" : \" - Devolucion\")  : \"\";\r\n\r\n            contenidoHolder.mMotivoVisitaView.setText(motivoVisita);\r\n\r\n            String codigoCliente = contenidoHolder.mCodView.getText().toString();\r\n            boolean iniciaConZ = codigoCliente.startsWith(\"Z\");\r\n\r\n            actualizarVisibilidadIconos(contenidoHolder,cumpleAnyo,auspicioDoc,iniciaConZ,codigoCliente,context);\r\n\r\n        /* Lógica para manejar la visibilidad de los íconos\r\n            if (cumpleAnyo) {\r\n                // Si es el cumpleaños del cliente\r\n                contenidoHolder.mOrigen.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigen2.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigen3.setVisibility(View.VISIBLE);\r\n                contenidoHolder.mOrigenZ.setVisibility(View.GONE);\r\n            } else if (auspicioDoc) {\r\n                // Si el cliente está auspiciado\r\n                contenidoHolder.mOrigen.setVisibility(View.VISIBLE);\r\n                contenidoHolder.mOrigen.setImageDrawable(ContextCompat.getDrawable(context, R.drawable.ic_person_gold_24dp));\r\n                contenidoHolder.mOrigen2.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigen3.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigenZ.setVisibility(View.GONE);\r\n            } else if (iniciaConZ) {\r\n                // Si el código del cliente comienza con 'Z'\r\n                contenidoHolder.mOrigenZ.setVisibility(View.VISIBLE);\r\n                contenidoHolder.mOrigen.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigen2.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigen3.setVisibility(View.GONE);\r\n            } else {\r\n                // Lógica existente basada en la longitud del código del cliente\r\n                if (codigoCliente.length() > 6) {\r\n                    contenidoHolder.mOrigen2.setVisibility(View.VISIBLE);\r\n                    contenidoHolder.mOrigen.setVisibility(View.GONE);\r\n                } else {\r\n                    contenidoHolder.mOrigen.setVisibility(View.VISIBLE);\r\n                    contenidoHolder.mOrigen2.setVisibility(View.GONE);\r\n                }\r\n                contenidoHolder.mOrigen3.setVisibility(View.GONE);\r\n                contenidoHolder.mOrigenZ.setVisibility(View.GONE);\r\n            }\r\n*/\r\n\r\n\r\n            contenidoHolder.mView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (null != mListener) {\r\n                        // Notify the active callbacks interface (the activity, if the\r\n                        // fragment is attached to one) that an item has been selected.\r\n                        mListener.onListFragmentInteraction(planificacionItem);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private VisitaClientesFecha obtenerFechaAsociada(int position) {\r\n        for (int i = position; i >= 0; i--) {\r\n            if (mValues.get(i) instanceof VisitaClientesFecha) {\r\n                return (VisitaClientesFecha) mValues.get(i);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void actualizarVisibilidadIconos(ContenidoViewHolder contenidoHolder, boolean cumpleAnyo, boolean auspicioDoc, boolean iniciaConZ, String codigoCliente, Context context) {\r\n        // Ocultar todos los íconos por defecto\r\n        contenidoHolder.mOrigen.setVisibility(View.GONE);\r\n        contenidoHolder.mOrigen2.setVisibility(View.GONE);\r\n        contenidoHolder.mOrigen3.setVisibility(View.GONE);\r\n        contenidoHolder.mOrigenZ.setVisibility(View.GONE);\r\n\r\n        if (cumpleAnyo) {\r\n            // Si es el cumpleaños del cliente, solo se muestra mOrigen3\r\n            contenidoHolder.mOrigen3.setVisibility(View.VISIBLE);\r\n        } else if (iniciaConZ) {\r\n            // Si el código del cliente comienza con 'Z', solo se muestra mOrigenZ\r\n            contenidoHolder.mOrigenZ.setVisibility(View.VISIBLE);\r\n        } else {\r\n            // Lógica basada en la longitud del código del cliente\r\n            if (codigoCliente != null && codigoCliente.length() > 6) {\r\n                contenidoHolder.mOrigen2.setVisibility(View.VISIBLE);\r\n            } else {\r\n                contenidoHolder.mOrigen.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if (mValues!= null)\r\n            return mValues.size();\r\n        else\r\n            return  0;\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        // Just as an example, return 0 or 2 depending on position\r\n        // Note that unlike in ListView adapters, types don't have to be contiguous\r\n\r\n        return mValues.get(position).getType();\r\n        //return 1;\r\n    }\r\n\r\n\r\n    public class FechaViewHolder extends RecyclerView.ViewHolder{\r\n        public final View mView;\r\n        public final TextView mFechaView;\r\n        public final ImageView mFlecha;\r\n        public boolean isExpanded = false;\r\n        public VisitaClientesFecha mItem;\r\n\r\n        public FechaViewHolder(final View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n\r\n            mFechaView = (TextView)itemView.findViewById(R.id.tv_fecha_fragment_planificacion_fecha_row);\r\n            mFlecha = (ImageView) itemView.findViewById(R.id.iv_down_pregunta_planificacion);\r\n\r\n\r\n            mView.setOnClickListener(v -> {\r\n                float currentRotation = mFlecha.getRotation();\r\n                if (currentRotation == 0) {\r\n                    mFlecha.setRotation(180); // Rota hacia abajo\r\n                } else {\r\n                    mFlecha.setRotation(0); // Rota hacia arriba\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public class ContenidoViewHolder extends RecyclerView.ViewHolder {\r\n        public final View mView;\r\n        public final TextView mHoraPlanificada;\r\n        public final TextView mNombreView;\r\n        public final TextView mCodView;\r\n        //public final TextView mRepresentanteView;\r\n        public final TextView mDireccionView;\r\n        public final ImageView mEstasoView;\r\n        public final ImageView mRevisitaView;\r\n        public final ImageView mEstadoFilas;\r\n        public final TextView mMotivoVisitaView, mtipoCliente;\r\n        public final ImageView mOrigen, mOrigen2, mOrigen3, mOrigenZ;\r\n        public VisitaClientes mItem;\r\n        public final ConstraintLayout mExpandir;\r\n        public final ImageView mFlecha;\r\n        public final TextView mTipoClienteObs;\r\n        public ContenidoViewHolder(View view) {\r\n            super(view);\r\n            mView = view;\r\n\r\n            mHoraPlanificada = (TextView) view.findViewById(R.id.tv_hora_visita_fragment_planifiacion_contenido_row);\r\n            mNombreView = (TextView) view.findViewById(R.id.tv_nombre_cliente_fragment_planifiacion_contenido_row);\r\n            mCodView = (TextView) view.findViewById(R.id.tv_codigo_fragment_planifiacion_contenido_row);\r\n            mtipoCliente =  (TextView) view.findViewById(R.id.tv_tipo_cliente);\r\n            mDireccionView = (TextView) view.findViewById(R.id.tv_direccion_fragment_planifiacion_contenido_row);\r\n            mMotivoVisitaView  = (TextView) view.findViewById(R.id.tv_motivo_visita_fragment_planificacion_contenido_row);\r\n            mEstasoView = (ImageView) view.findViewById(R.id.iv_estado_fragment_planifiacion_contenido_row);\r\n            mEstadoFilas = (ImageView) view.findViewById(R.id.divider3);\r\n            mRevisitaView = (ImageView) view.findViewById(R.id.iv_cliente_revisita);\r\n            mTipoClienteObs =(TextView) view.findViewById(R.id.tv_tipo_cliente_obs);\r\n            mFlecha = (ImageView) view.findViewById(R.id.iv_down_pregunta_planificacion);\r\n\r\n\r\n            mExpandir = (ConstraintLayout) view.findViewById(R.id.expandir_planificacion);\r\n\r\n\r\n            mOrigen = (ImageView) view.findViewById(R.id.iv_origen_row_resultado_cliente);\r\n            mOrigenZ = (ImageView) view.findViewById(R.id.iv_origen_row_resultado_cliente_z);\r\n            mOrigen2 = (ImageView) view.findViewById(R.id.iv_origen2_row_resultado_cliente);\r\n            mOrigen3 = (ImageView) view.findViewById(R.id.iv_origen2_row_resultado_cliente_torta);\r\n            ImageButton mMenuPedidosView = (ImageButton) view.findViewById(R.id.ib_pedido_fragment_cliente_detalle_menu);\r\n\r\n\r\n\r\n\r\n            mMenuPedidosView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n\r\n                    PopupMenu popupMenu = new PopupMenu(context, v);\r\n                    popupMenu.getMenuInflater().inflate(R.menu.menu_pedidos_detalle_cliente, popupMenu.getMenu());\r\n                    String valiZ= mCodView.getText().toString().toUpperCase().substring(0, 1);\r\n                    if (valiZ.equals(\"Z\")) {\r\n                            popupMenu.getMenu().findItem(R.id.action_totales_mes).setVisible(false);\r\n                            popupMenu.getMenu().findItem(R.id.action_historial_pedidos).setVisible(false);\r\n                            popupMenu.getMenu().findItem(R.id.action_detalle_productos).setVisible(false);\r\n                            popupMenu.getMenu().findItem(R.id.action_categoria).setVisible(false);\r\n                            popupMenu.getMenu().findItem(R.id.action_recetas).setVisible(false);\r\n                    }else {\r\n                        if (mCodView.length() <= 6)\r\n                            popupMenu.getMenu().findItem(R.id.action_ficha_medico).setVisible(false);\r\n                        if (mCodView.length() <= 6)\r\n                           popupMenu.getMenu().findItem(R.id.action_recetas).setVisible(false);\r\n                        if (mCodView.length() <= 6)\r\n                            popupMenu.getMenu().findItem(R.id.action_categoria).setVisible(false);\r\n                        if (mCodView.length() > 6)\r\n                            popupMenu.getMenu().findItem(R.id.action_historial_pedidos).setVisible(false);\r\n                        if (mCodView.length() > 6)\r\n                            popupMenu.getMenu().findItem(R.id.action_detalle_productos).setVisible(false);\r\n                        if (mCodView.length() > 6)\r\n                            popupMenu.getMenu().findItem(R.id.action_totales_mes).setVisible(false);\r\n                    }\r\n\r\n\r\n                    popupMenu.show();\r\n\r\n                    popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                        @Override\r\n                        public boolean onMenuItemClick(MenuItem menuItem) {\r\n                            int itemId = menuItem.getItemId();\r\n\r\n                            if (itemId == R.id.action_historial_pedidos) {\r\n                                Intent iFacturas = new Intent(context, ClientesFacturasNotaDebitosActivity.class);\r\n                                iFacturas.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iFacturas.putExtra(Common.ARG_NOMBRE_CLIENTE, mNombreView.getText());\r\n                                iFacturas.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iFacturas);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_detalle_productos) {\r\n                                Intent iFacturaDetalle = new Intent(context, FacturaDetalleActivity.class);\r\n                                iFacturaDetalle.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iFacturaDetalle.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iFacturaDetalle);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_totales_mes) {\r\n                                Intent iTotalesXMes = new Intent(context, VentasMensualesClientesActivity.class);\r\n                                iTotalesXMes.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iTotalesXMes.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iTotalesXMes);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_ficha_medico) {\r\n                                Intent iFichaMedico = new Intent(context, MedicoFichaActivity.class);\r\n                                iFichaMedico.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iFichaMedico.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iFichaMedico);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_historial_comentarios) {\r\n                                Intent iComentarios = new Intent(context, HistorialComentariosActivity.class);\r\n                                iComentarios.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iComentarios.putExtra(Common.ARG_IDUSUARIO, CodigoAsesor);\r\n                                iComentarios.putExtra(Common.ARG_SECCIOM, Seccion);\r\n                                Log.d(\"idUsuario\", \"idUsuario\" + idUsuario);\r\n                                context.startActivity(iComentarios);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_historial_visitas) {\r\n                                Intent iVisitas = new Intent(context, HistorialVisitasActivity.class);\r\n                                iVisitas.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iVisitas.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iVisitas);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_recetas) {\r\n                                Intent iRecetas = new Intent(context, RecetasXActivity.class);\r\n                                iRecetas.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iRecetas.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iRecetas);\r\n                                return true;\r\n                            } else if (itemId == R.id.action_categoria) {\r\n                                Intent iCategoria = new Intent(context, MedicosCategoriaActivity.class);\r\n                                iCategoria.putExtra(Common.ARG_IDCLIENTE, mCodView.getText());\r\n                                iCategoria.putExtra(Common.ARG_IDUSUARIO, idUsuario);\r\n                                context.startActivity(iCategoria);\r\n                                return true;\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        public void ocultarContenido() {\r\n            // Cambiar el alto de la vista a 0 cuando esté oculta\r\n            ViewGroup.LayoutParams params = mView.getLayoutParams();\r\n            params.height = 0;\r\n            mView.setLayoutParams(params);\r\n        }\r\n\r\n        public void mostrarContenido() {\r\n            // Restaurar el alto de la vista cuando esté visible\r\n            ViewGroup.LayoutParams params = mView.getLayoutParams();\r\n            params.height = ViewGroup.LayoutParams.WRAP_CONTENT;\r\n            mView.setLayoutParams(params);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + \" '\" + mNombreView.getText() + \"'\";\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java b/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java
--- a/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/java/com/rocnarf/rocnarf/adapters/PlanificacionRecyclerViewAdapter.java	(date 1744308026569)
@@ -188,77 +188,79 @@
             }
 
             Clientes clientesAPI = clientesCumple.getValue();
-
             String claseMostrar = null;
-
             List<String> rolesMultiples = Arrays.asList("GRC", "GVP", "GRA", "JVC", "GRS", "JVS");
 
-
-                if (clientesAPI != null &&clientesAPI.getTipoObserv().equals("MEDICO") ) {
+            if (clientesAPI != null) {
+                if ("MEDICO".equals(clientesAPI.getTipoObserv())) {
                     if ("MEDICO".equals(clientesAPI.getOrigen())) {
 
-
-                    if (planificacionItem.getSeccion() != null && !planificacionItem.getSeccion().isEmpty()) {
-                        boolean esRolRegional = rolesMultiples.contains(planificacionItem.getSeccion().toUpperCase());
-                        if (esRolRegional && seccionesUsuario != null && !seccionesUsuario.isEmpty()) {
-                            for (String seccion : seccionesUsuario) {
-                                if (seccion != null && !seccion.isEmpty()) {
-                                    char primerCaracter = seccion.charAt(0);
+                        if (planificacionItem.getSeccion() != null && !planificacionItem.getSeccion().isEmpty()) {
+                            boolean esRolRegional = rolesMultiples.contains(planificacionItem.getSeccion().toUpperCase());
+                            if (esRolRegional && seccionesUsuario != null && !seccionesUsuario.isEmpty()) {
+                                for (String seccion : seccionesUsuario) {
+                                    if (seccion != null && !seccion.isEmpty()) {
+                                        char primerCaracter = seccion.charAt(0);
 
-                                    if (Character.isDigit(primerCaracter)) {
-                                        int numero = Character.getNumericValue(primerCaracter);
-                                        if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {
-                                            claseMostrar = clientesAPI.getClase();
-                                            break;
-                                        } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {
-                                            claseMostrar = clientesAPI.getClase3();
-                                            break;
-                                        }
-                                    } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')
-                                            && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {
-                                        claseMostrar = clientesAPI.getClase4();
-                                        break;
-                                    }
-                                }
-                            }
+                                        if (Character.isDigit(primerCaracter)) {
+                                            int numero = Character.getNumericValue(primerCaracter);
+                                            if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {
+                                                claseMostrar = clientesAPI.getClase();
+                                                break;
+                                            } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {
+                                                claseMostrar = clientesAPI.getClase3();
+                                                break;
+                                            }
+                                        } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')
+                                                && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {
+                                            claseMostrar = clientesAPI.getClase4();
+                                            break;
+                                        }
+                                    }
+                                }
 
-                        } else {
-                            // 🧪 Evaluar una sola sección
-                            if (Seccion != null && !Seccion.isEmpty()) {
-                                char primerCaracter = Seccion.charAt(0);
+                            } else {
+                                // 🧪 Evaluar una sola sección
+                                if (Seccion != null && !Seccion.isEmpty()) {
+                                    char primerCaracter = Seccion.charAt(0);
 
-                                if (Character.isDigit(primerCaracter)) {
-                                    int numero = Character.getNumericValue(primerCaracter);
-                                    if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {
-                                        claseMostrar = clientesAPI.getClase();
-                                    } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {
-                                        claseMostrar = clientesAPI.getClase3();
-                                    }
-                                } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')
-                                        && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {
-                                    claseMostrar = clientesAPI.getClase4();
-                                }
-                            } else {
-                                Log.w("ClaseMostrar", "La sección es nula o vacía. No se puede determinar clase.");
-                            }
-                        }
-                    }
+                                    if (Character.isDigit(primerCaracter)) {
+                                        int numero = Character.getNumericValue(primerCaracter);
+                                        if (numero >= 1 && numero <= 6 && clientesAPI.getClase() != null && !clientesAPI.getClase().isEmpty()) {
+                                            claseMostrar = clientesAPI.getClase();
+                                        } else if (numero >= 7 && numero <= 9 && clientesAPI.getClase3() != null && !clientesAPI.getClase3().isEmpty()) {
+                                            claseMostrar = clientesAPI.getClase3();
+                                        }
+                                    } else if ((primerCaracter == 'A' || primerCaracter == 'B' || primerCaracter == 'C')
+                                            && clientesAPI.getClase4() != null && !clientesAPI.getClase4().isEmpty()) {
+                                        claseMostrar = clientesAPI.getClase4();
+                                    }
+                                } else {
+                                    Log.w("ClaseMostrar", "La sección es nula o vacía. No se puede determinar clase.");
+                                }
+                            }
+                        }
 
-                    if (claseMostrar != null && !claseMostrar.isEmpty()) {
-                        contenidoHolder.mtipoCliente.setText("Médico " + claseMostrar);
-                    } else {
-                        contenidoHolder.mtipoCliente.setText(("Médico PC"));
-                    }
+                        if (claseMostrar != null && !claseMostrar.isEmpty()) {
+                            contenidoHolder.mtipoCliente.setText("Médico " + claseMostrar);
+                        } else {
+                            contenidoHolder.mtipoCliente.setText("Médico PC");
+                        }
 
+                    } else {
+                        // Si el tipo es "MEDICO" pero el origen no es "MEDICO", no seteamos nada aquí
+                    }
                 } else {
+                    // Solo si no es "MEDICO"
                     if (clientesAPI.getClaseMedico() != null && !clientesAPI.getClaseMedico().isEmpty()) {
-                        contenidoHolder.mtipoCliente.setText((clientesAPI.getClaseMedico()));
+                        contenidoHolder.mtipoCliente.setText(clientesAPI.getClaseMedico());
                     } else {
                         contenidoHolder.mtipoCliente.setText("");
                     }
                 }
             }
 
+
             // Validar y mostrar icono de revisita
             if (clientesAPI != null) {
                 Integer revisita = clientesAPI.getRevisita();
Index: .idea/deploymentTargetSelector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetSelector\">\r\n    <selectionStates>\r\n      <SelectionState runConfigName=\"app\">\r\n        <option name=\"selectionMode\" value=\"DROPDOWN\" />\r\n        <DropdownSelection timestamp=\"2025-04-08T22:25:03.036485300Z\">\r\n          <Target type=\"DEFAULT_BOOT\">\r\n            <handle>\r\n              <DeviceId pluginId=\"PhysicalDevice\" identifier=\"serial=4ac3ce040504\" />\r\n            </handle>\r\n          </Target>\r\n        </DropdownSelection>\r\n        <DialogSelection />\r\n      </SelectionState>\r\n    </selectionStates>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
--- a/.idea/deploymentTargetSelector.xml	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/.idea/deploymentTargetSelector.xml	(date 1744409322040)
@@ -4,10 +4,10 @@
     <selectionStates>
       <SelectionState runConfigName="app">
         <option name="selectionMode" value="DROPDOWN" />
-        <DropdownSelection timestamp="2025-04-08T22:25:03.036485300Z">
+        <DropdownSelection timestamp="2025-04-11T21:47:08.487452700Z">
           <Target type="DEFAULT_BOOT">
             <handle>
-              <DeviceId pluginId="PhysicalDevice" identifier="serial=4ac3ce040504" />
+              <DeviceId pluginId="PhysicalDevice" identifier="serial=520071bbecbaa400" />
             </handle>
           </Target>
         </DropdownSelection>
Index: app/src/main/res/layout/activity_pedido_lista.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".PedidoListaActivity\">\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/pr_list_activity_cliente_facturas\"\r\n        style=\"?android:attr/progressBarStyleLarge\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:visibility=\"gone\" />\r\n\r\n\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"bottom|end\"\r\n        android:layout_margin=\"@dimen/fab_margin\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:srcCompat=\"@drawable/ic_shopping_cart_white_24dp\" />\r\n\r\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=\"@+id/fab_cobro\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"16dp\"\r\n        android:layout_marginBottom=\"32dp\"\r\n        android:clickable=\"true\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/fab\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:srcCompat=\"@drawable/ic_attach_money_white_24dp\" />\r\n\r\n<!--    <android.support.design.widget.FloatingActionButton-->\r\n<!--        android:id=\"@+id/fab_proforma\"-->\r\n<!--        android:layout_width=\"wrap_content\"-->\r\n<!--        android:layout_height=\"wrap_content\"-->\r\n<!--        android:layout_marginEnd=\"16dp\"-->\r\n<!--        android:layout_marginBottom=\"32dp\"-->\r\n<!--        android:clickable=\"true\"-->\r\n<!--        app:layout_constraintBottom_toTopOf=\"@+id/fab_cobro\"-->\r\n<!--        app:layout_constraintEnd_toEndOf=\"parent\"-->\r\n<!--        app:srcCompat=\"@drawable/ic_add_white_24dp\" />-->\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_vacio_activity_pedido_lista\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"8dp\"\r\n\r\n\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"No tienes pedidos pendientes\"\r\n        android:textAlignment=\"center\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/rv_lista_activity_pedido_lista\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.0\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_pedido_lista.xml b/app/src/main/res/layout/activity_pedido_lista.xml
--- a/app/src/main/res/layout/activity_pedido_lista.xml	(revision 7ba37a35158b9a7e94b858569e7dbccdd6760ca8)
+++ b/app/src/main/res/layout/activity_pedido_lista.xml	(date 1744308197777)
@@ -15,28 +15,70 @@
         android:visibility="gone" />
 
 
-    <com.google.android.material.floatingactionbutton.FloatingActionButton
-        android:id="@+id/fab"
+    <LinearLayout
+        android:id="@+id/btn_cobro"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_gravity="bottom|end"
-        android:layout_margin="@dimen/fab_margin"
-        android:layout_marginBottom="16dp"
         android:layout_marginEnd="16dp"
-        app:layout_constraintBottom_toBottomOf="parent"
+        android:layout_marginBottom="32dp"
+        android:orientation="horizontal"
+        android:backgroundTint="#FF0080"
+        android:background="@drawable/bg_fab_custom"
+        android:padding="12dp"
+        android:gravity="center"
+        android:elevation="6dp"
+        android:clickable="true"
+        android:focusable="true"
         app:layout_constraintEnd_toEndOf="parent"
-        app:srcCompat="@drawable/ic_shopping_cart_white_24dp" />
+        app:layout_constraintBottom_toTopOf="@+id/btn_pedido">
 
-    <com.google.android.material.floatingactionbutton.FloatingActionButton
-        android:id="@+id/fab_cobro"
+        <ImageView
+            android:layout_width="24dp"
+            android:layout_height="24dp"
+            android:src="@drawable/ic_attach_money_white_24dp"
+            android:tint="@android:color/white"
+            android:layout_marginEnd="8dp" />
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Cobro Nuevo"
+            android:textColor="@android:color/white"
+            android:textStyle="bold" />
+    </LinearLayout>
+
+    <LinearLayout
+        android:id="@+id/btn_pedido"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_marginEnd="16dp"
-        android:layout_marginBottom="32dp"
+        android:layout_marginBottom="16dp"
+        android:orientation="horizontal"
+        android:backgroundTint="#FF0080"
+        android:background="@drawable/bg_fab_custom"
+        android:padding="12dp"
+        android:gravity="center"
+        android:elevation="6dp"
         android:clickable="true"
-        app:layout_constraintBottom_toTopOf="@+id/fab"
+        android:focusable="true"
         app:layout_constraintEnd_toEndOf="parent"
-        app:srcCompat="@drawable/ic_attach_money_white_24dp" />
+        app:layout_constraintBottom_toBottomOf="parent">
+
+        <ImageView
+            android:layout_width="24dp"
+            android:layout_height="24dp"
+            android:src="@drawable/ic_shopping_cart_white_24dp"
+            android:tint="@android:color/white"
+            android:layout_marginEnd="8dp" />
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Pedido Nuevo"
+            android:textColor="@android:color/white"
+            android:textStyle="bold" />
+    </LinearLayout>
+
 
 <!--    <android.support.design.widget.FloatingActionButton-->
 <!--        android:id="@+id/fab_proforma"-->
